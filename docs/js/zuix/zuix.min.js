'use strict';!function(O){if("object"==typeof exports)module.exports=O();else if("function"==typeof define&&define.amd)define(O);else{var q;"undefined"!=typeof window?q=window:"undefined"!=typeof global?q=global:"undefined"!=typeof self&&(q=self);q.zuix=O()}}(function(){return function q(u,A,a){function k(b,e){if(!A[b]){if(!u[b]){var d="function"==typeof require&&require;if(!e&&d)return d(b,!0);if(g)return g(b,!0);throw Error("Cannot find module '"+b+"'");}d=A[b]={exports:{}};u[b][0].call(d.exports,
function(d){var a=u[b][1][d];return k(a?a:d)},d,d.exports,q,u,A,a)}return A[b].exports}for(var g="function"==typeof require&&require,e=0;e<a.length;e++)k(a[e]);return k}({1:[function(q,u,A){function a(a){d=a}function k(){null!==n&&(cancelAnimationFrame(n),n=null);f++;if(f<b.length&&!d.willBreak())return e(),!0;(f>=b.length||d.willBreak())&&g();return!1}function g(a){f=-1;b.length=0;b=[];d.status(null!=a?a:"done")}function e(){var a=b[f];if(null==a)return!1;var e=function(){null!==n&&(cancelAnimationFrame(n),
n=null);d.doWork(a.item,function(){n=requestAnimationFrame(k)})||k()};if(a.cancelable)if(d.willBreak())g("stopped");else if(null==n)n=requestAnimationFrame(e);else return!1;else e();return!0}a.prototype.isReady=function(){return 0===b.length||-1===f};a.prototype.getJobs=function(){return b};a.prototype.setJobs=function(a){0<b.length?(f=-1,b.length=0):(b=a.slice(),d.status("start",b),k())};a.prototype.append=function(d){this.isReady()?this.setJobs(d):Array.prototype.push.apply(b,d)};var b=[],f=-1,
d=null,n=null;u.exports=function(d){return new a(d)}},{}],2:[function(q,u,A){function a(a){g=window?window.console:{};e=window?window:{};this._timers={};this.args=function(d,a,b){d="%c "+a+" %c"+(new Date).toISOString()+" %c"+d;a=["background-color:rgba(200,200,200,0.2);color:#8a53ff;","background-color:rgba(200,200,200,0.2);color:#777777","background-color:rgba(200,200,200,0.2);color:#888888;"];for(var e=0;e<b.length;e++)if("string"==typeof b[e]&&0===b[e].indexOf("timer:")){var g=b[e].split(":");
if(3===g.length){var f=void 0;switch(g[2]){case "start":this._timers[g[1]]=(new Date).getTime();d+=" %cSTART "+g[1];a.push("background-color:rgba(200,200,200,0.2);color:#999900;");break;case "stop":f=(new Date).getTime()-this._timers[g[1]],d+=" %cSTOP "+g[1]+" "+f+" ms",200<f?a.push("background-color:rgba(200,200,200,0.2);color:#ff0000;"):100<f?a.push("background-color:rgba(200,200,200,0.2);color:#ff7700;"):a.push("background-color:rgba(200,200,200,0.2);color:#00aa00;")}}}d+=" \n%c ";a.push("background-color:transparent;color:inherit;");
for(e=a.length-1;0<=e;e--)Array.prototype.unshift.call(b,a[e]);Array.prototype.unshift.call(b,d);Array.prototype.push.call(b,"\n\n")};this.log=function(d,n){"function"===typeof b&&b.call(a,d,n);e.zuixNoConsoleOutput||(this.args(a,d,n),g.log.apply(g,n))}}var k="log info warn error debug trace dir group groupCollapsed groupEnd time timeEnd profile profileEnd dirxml assert count markTimeline timeStamp clear".split(" "),g=null,e=null,b=null;a.prototype.monitor=function(a){b=a};a.prototype.console=function(a){if(a)window.console=
g;else for(window.console={},a=0;a<k.length;a++)window.console[k[a]]||(window.console[k[a]]=function(){})};a.prototype.i=a.prototype.info=a.prototype.l=a.prototype.log=function(){this.log("INFO",arguments);return this};a.prototype.w=a.prototype.warn=function(){this.log("WARN",arguments);return this};a.prototype.e=a.prototype.error=function(){this.log("ERROR",arguments);return this};a.prototype.d=a.prototype.debug=function(){this.log("DEBUG",arguments);return this};a.prototype.t=a.prototype.trace=
function(){this.log("TRACE",arguments);return this};u.exports=function(b){return new a(b)}},{}],3:[function(q,u,A){function a(a){var e=this;e._worker=null;e._taskList=[];e._requests=[];null==a&&(a=function(){});e.taskQueue=function(b,f,d){e._taskList.push({tid:b,fn:f,status:0,priority:d,step:function(d){k.t(d,"load:step");a(e,"load:step",{task:d})},end:function(){this.status=2;k.t(this.tid,"load:next","timer:task:stop");a(e,"load:next",{task:this.tid});e._taskList.splice(this.index,1);e.taskCheck();
null!=this._callback&&this._callback.call(this)},callback:function(d){this._callback=d}});k.t(b,"task added",d,"priority");e._taskList.sort(function(d,a){return d.priority>a.priority?1:a.priority>d.priority?-1:0});e.taskCheck()};e.taskCheck=function(){for(var b=0;b<e._taskList.length;b++){if(0===e._taskList[b].status){e._taskList[b].status=1;k.t(e._taskList[b].tid,"load:begin","timer:task:start");a(e,"load:begin",{task:e._taskList[b].tid});e._taskList[b].index=b;e._taskList[b].fn.call(e._taskList[b]);
return}if(1===e._taskList[b].status||2===e._taskList[b].status)return}k.t("load:end");a(e,"load:end")}}var k=q("./Logger")("TaskQueue.js");a.prototype.callback=function(a){};a.prototype.queue=function(a,e,b){return this.taskQueue(a,e,b)};u.exports=a},{"./Logger":2}],4:[function(q,u,A){u.exports={isIE:function(){return 0<window.navigator.userAgent.indexOf("Trident")},isNoU:function(a){return"undefined"===typeof a||null===a},isFunction:function(a){return"function"===typeof a},objectEquals:function(a,
k){if(null===a||void 0===a||null===k||void 0===k)return a===k;if(a.constructor!==k.constructor)return!1;if(a instanceof Function||a instanceof RegExp)return a===k;if(a===k||a.valueOf()===k.valueOf())return!0;if(Array.isArray(a)&&a.length!==k.length||a instanceof Date||!(a instanceof Object)||!(k instanceof Object))return!1;var g=Object.keys(a);return Object.keys(k).every(function(a){return-1!==g.indexOf(a)})&&g.every(function(e){return util.objectEquals(a[e],k[e])})},propertyFromPath:function(a,k){if("string"===
typeof k){k=k.replace(/\[(\w+)\]/g,".$1");k=k.replace(/^\./,"");for(var g=k.split("."),e=a,b=0;b<g.length;++b){var f=g[b];if("undefined"!==typeof e[f])e=e[f];else return}return e}},cloneObject:function k(g){if(null===g||"object"!==typeof g)return g;var e=g;try{var e=g.constructor(),b;for(b in g)g.hasOwnProperty(b)&&(e[b]=k(g[b]))}catch(f){}return e}}},{}],5:[function(q,u,A){function a(c){e(this,c.type,c)}function k(c,D,b){var t=!1;h.each(p,function(){if(this.element===c&&this.path===D&&this.handler===
b)return d.w("Handler already registered",c,D,b),t=!0,!1});t||(p.push({element:c,path:D,handler:b}),c.addEventListener(D,a,m?{passive:!0}:!1))}function g(c,d,b){var t=1,r=-1;h.each(p,function(a){this.element===c&&this.path===d&&this.handler===b&&(t--,r=a)});-1!==r&&p.splice(r,1);0===t&&c.removeEventListener(d,a)}function e(c,d,a){var b=h(c);h.each(p,function(){this.element===c&&this.path===d&&this.handler.call(b,a)})}function b(c){h.each(p,function(){this.element===c&&(d.t("Removing event handler",
this.element,this.path,this.handler),g(this.element,this.path,this.handler))})}function f(c){this._selection=[];"undefined"===typeof c&&(c=document.documentElement);if(c instanceof f)return c;if(c instanceof HTMLCollection||c instanceof NodeList){var a=this._selection=[];h.each(c,function(c,d){a.push(d)})}else if(Array.isArray(c))this._selection=c;else if(c===window||c instanceof HTMLElement||c instanceof Node)this._selection=[c];else if("string"===typeof c)this._selection=document.documentElement.querySelectorAll(c);
else if(null!==c)throw d.e("ZxQuery cannot wrap object of this type.",typeof c,c),Error("ZxQuery cannot wrap object of this type.");return this}var d=q("./Logger")("TaskQueue.js"),n=q("./Util.js"),m=!1;try{var w=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("testPassive",null,w);window.removeEventListener("testPassive",null,w)}catch(c){}var p=[];f.prototype.length=function(){return this._selection.length};f.prototype.parent=function(c){return n.isNoU(c)?new f(this._selection[0].parentNode):
new f(h.getClosest(this._selection[0],c))};f.prototype.children=function(c){return n.isNoU(c)?new f(this._selection[0].children):new f(this._selection[0].querySelectorAll(c))};f.prototype.reverse=function(){this._selection=Array.prototype.slice.call(this._selection,0).reverse();return this};f.prototype.get=function(c){n.isNoU(c)&&(c=0);return this._selection[c]};f.prototype.eq=function(c){var d=this._selection,a=d[c];1<arguments.length&&(a=[],h.each(arguments,function(c,b){null!=d[b]&&a.push(d[b])}));
return new f(a)};f.prototype.find=function(c){return new f(this._selection[0].querySelectorAll(c))};f.prototype.each=function(c){h.each(this._selection,c);return this};f.prototype.attr=function(c,d){var a=this;if("object"===typeof c)h.each(c,function(c,d){a.each(function(a,b){b.setAttribute(c,d)})});else{if("undefined"==typeof d)return this._selection[0].getAttribute(c);null===d?this._selection[0].removeAttribute(c):this.each(function(a,b){this.get().setAttribute(c,d)})}return this};f.prototype.trigger=
function(c,d){var a=void 0;window.CustomEvent?a=new CustomEvent(c,{detail:d}):(a=document.createEvent("CustomEvent"),a.initCustomEvent(c,!0,!0,d));this.each(function(c,d){d.dispatchEvent(a)});return this};f.prototype.one=function(c,d){var a=!1;this.on(c,function(b,e){a||(a=!0,h(this).off(c,d),d.call(this,b,e))});return this};f.prototype.on=function(c,d){var a=c.match(/\S+/g)||[];this.each(function(c,b){h.each(a,function(c,a){k(b,a,d)})});return this};f.prototype.off=function(c,d){var a=c.match(/\S+/g)||
[];this.each(function(c,b){h.each(a,function(c,a){g(b,a,d)})});return this};f.prototype.reset=function(){this.each(function(c,d){b(d)});return this};f.prototype.isEmpty=function(){return 0===this._selection[0].innerHTML.replace(/\s/g,"").length};f.prototype.position=function(){return null!=this._selection[0]?h.getPosition(this._selection[0]):{x:-1,y:-1,visible:!1}};f.prototype.css=function(c,d){var a=this;if("object"===typeof c)h.each(c,function(c,d){a.each(function(a,b){b.style[c]=d})});else{if(n.isNoU(d))return this._selection[0].style[c];
a.each(function(a,b){b.style[c]=d})}return this};f.prototype.addClass=function(c){var d=c.match(/\S+/g)||[];h.each(this._selection,function(a,b){b.classList?h.each(d,function(c,d){b.classList.add(d)}):b.className+=" "+c});return this};f.prototype.hasClass=function(c){return h.hasClass(this._selection[0],c)};f.prototype.removeClass=function(c){var d=c.match(/\S+/g)||[];h.each(this._selection,function(a,b){b.classList?h.each(d,function(c,d){b.classList.remove(d)}):b.className=b.className.replace(new RegExp("(^|\\b)"+
c.split(" ").join("|")+"(\\b|$)","gi")," ")});return this};f.prototype.prev=function(){return new f(this._selection[0].previousElementSibling)};f.prototype.next=function(){return new f(this._selection[0].nextElementSibling)};f.prototype.html=function(c){if(n.isNoU(c))return this._selection[0].innerHTML;this.each(function(d,a){a.innerHTML=c});return this};f.prototype.checked=function(c){if(n.isNoU(c)){var d=this._selection[0].checked;return null!=d&&"false"!=d&&(d||"checked"==d)}this.each(function(d,
a){a.checked=c});return this};f.prototype.value=function(c){if(n.isNoU(c))return this._selection[0].value;this.each(function(d,a){a.value=c});return this};f.prototype.append=function(c){"string"===typeof c?this._selection[0].innerHTML+=c:this._selection[0].appendChild(c);return this};f.prototype.insert=function(c,d){var a=this.children().get(c);null!==a?this._selection[0].insertBefore(d,a):this._selection[0].appendChild(d);return this};f.prototype.prepend=function(c){"string"===typeof c?this._selection[0].innerHTML=
c+this._selection[0].innerHTML:this._selection[0].insertBefore(c,this._selection[0].firstElementChild);return this};f.prototype.detach=function(){var c=this._selection[0],a=c.parentNode;null!=a&&(c.__zuix_oldParent=a,c.__zuix_oldIndex=Array.prototype.indexOf.call(a.children,c),a.removeChild(c),d.t("Detached from parent",a,c));return this};f.prototype.attach=function(){var c=this._selection[0];null==c.parentNode&&null!=c.__zuix_oldParent&&(h(c.__zuix_oldParent).insert(c.__zuix_oldIndex,c),c.__zuix_oldParent=
null,delete c.__zuix_oldParent,delete c.__zuix_oldIndex);return this};f.prototype.display=function(c){if(n.isNoU(c))return this._selection[0].style.display;h.each(this._selection,function(d,a){a.style.display=c});return this};f.prototype.visibility=function(c){if(n.isNoU(c))return this._selection[0].style.visibility;h.each(this._selection,function(d,a){a.style.visibility=c});return this};f.prototype.show=function(c){return this.display(null==c?"":c)};f.prototype.hide=function(){return this.display("none")};
var h=function(c){return new f(c)};h.find=function(c){return h().find(c)};h.each=function(c,d){var a=null==c?0:Object.keys(c).length;if(0<a){var b=0,e;for(e in c)if(c.hasOwnProperty(e)){var l=c[e];l instanceof Element&&(l=h(l));if(!1===d.call(l,e,c[e]))break;b++;if(b>=a)break}}return this};h.ajax=function(c){var d=void 0,d=n.isNoU(c)||n.isNoU(c.url)?c:c.url,a=new XMLHttpRequest;a.open("GET",d);a.onload=function(){200===a.status?n.isFunction(c.success)&&c.success(a.responseText):n.isFunction(c.error)&&
c.error(a);n.isFunction(c.then)&&c.then(a)};a.send();return this};h.hasClass=function(c,d){var a=d.match(/\S+/g)||[],b=!1;h.each(a,function(d,a){if(b=c.classList?c.classList.contains(a):(new RegExp("(^| )"+a+"( |$)","gi")).test(c.className))return!1});return b};h.classExists=function(c){c=c.match(/\S+/g)||[];var a=!1;h.each(c,function(c,d){var b=document.styleSheets;if(null!=b)for(var e=0;e<b.length;e++)try{var g=b[e].rules||b[e].cssRules;if(null!=g)for(var f=0;f<g.length;f++)if(g[f].selectorText===
d){a=!0;break}}catch(h){if("SecurityError"!==h.name&&"InvalidAccessError"!==h.name)throw h;}});return a};h.wrapElement=function(c,a){var d=document.createElement(c);"string"===typeof a?d.innerHTML=a:d.appendChild(a);return d};h.wrapCss=function(a,b){var e=/((.*){([^{}]|((.*){([^}]+)[}]))*})/g,g="",f=void 0;b=b.replace(/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/g,"");var l={isMediaQuery:void 0,classes:void 0};do{if((f=e.exec(b))&&1<f.length){var m=f[2];null!=m&&0<m.length?(l.classes=m.split(","),l.isMediaQuery=
!1,h.each(l.classes,function(d){return function(b,e){"."===e.replace(" ","")?g+="\n"+a+" ":"@"===e.trim()[0]?(g+=e+" ",e.trim().toLowerCase().startsWith("@media")&&(d.isMediaQuery=!0)):g+="\n"+a+"\n"+e+" ";b<d.classes.length-1&&(g+=", ")}}(l)),l.isMediaQuery?(m=h.wrapCss(a,f[1].substring(f[2].length).replace(/^{([^\0]*?)}$/,"$1")),g+="{\n  "+m+"\n}"):g+=f[1].substring(f[2].length)+"\n"):d.w("z$.wrapCss was unable to parse rule.",m,f)}l={isMediaQuery:l.isMediaQuery,classes:l.classes}}while(f);""!==
g&&(b=g);return b};h.appendCss=function(a,d,b){var e=document.head||document.getElementsByTagName("head")[0],g=null;n.isNoU(d)?(d=document.getElementById(b),null!=d&&e.removeChild(d)):e.removeChild(d);"string"===typeof a?(g=document.createElement("style"),g.type="text/css",g.id=b,g.styleSheet?g.styleSheet.cssText=a:g.appendChild(document.createTextNode(a))):a instanceof Element&&(g=a);n.isNoU(g)||e.appendChild(g);return g};h.replaceCssVars=function(a,d){for(var b=new RegExp(/\B\$var\[(.*[^\[\]])]/g),
e="",g=0,l=0,f=void 0;f=b.exec(a);){var m=f[0];if(1<f.length){var h=f[1],n=d;if(0<h.indexOf(".")){for(var h=h.split("."),p=0;p<h.length-1&&(n=n[h[p]],"undefined"!==typeof n);p++);"undefined"!==typeof n&&(m=n[h[h.length-1]],g++)}else"undefined"!==typeof n[h]&&(m=n[h],g++)}e+=a.substr(l,f.index-l)+m;l=f.index+f[0].length}0<g&&(a=e+=a.substr(l));return a};h.replaceBraces=function(a,d){for(var b=new RegExp(/{?{.*?}?}/g),e="",g=0,l=0,f=void 0;f=b.exec(a);)if("string"===typeof f[0]&&(0===f[0].trim().length||
0<=f[0].indexOf("\n")))f=a.substr(l,f.index-l)+f[0],e+=f,l+=f.length;else{var h=f[0];if("function"===typeof d){var m=d(f[0]);n.isNoU(m)||(h=m,g++)}e+=a.substr(l,f.index-l)+h;l=f.index+f[0].length}return 0<g?e+=a.substr(l):null};h.getClosest=function(a,d){for(;a&&a!==document;a=a.parentNode)if(a.matches(d))return a;return null};h.getPosition=function(a,d){for(var b=0,e=0,g=a.getBoundingClientRect(),f=a;f;){if("body"===f.tagName.toLowerCase())var m=f.scrollTop||document.documentElement.scrollTop,b=
b+(f.offsetLeft-(f.scrollLeft||document.documentElement.scrollLeft)+f.clientLeft),e=e+(f.offsetTop-m+f.clientTop);else b+=f.offsetLeft-f.scrollLeft+f.clientLeft,e+=f.offsetTop-f.scrollTop+f.clientTop;f=f.offsetParent}b={x:b,y:e,rect:g,visible:!1};g=a.offsetParent;if(null!=g){g.getBoundingClientRect();if(g===document.body)e=document.body.offsetWidth,g=document.body.offsetHeight,e=document.documentElement.clientWidth||e,m=document.documentElement.clientHeight||g;else{for(f=g.offsetParent;null!=f&&null!==
f.offsetParent&&f.offsetHeight===f.scrollHeight;)f=f.offsetParent;null!=f?(e=f.offsetWidth,m=f.offsetHeight):(e=g.offsetWidth,m=g.offsetHeight)}null==d&&(d=0);var g=e,f=m,n=a.getBoundingClientRect(),g=!(n.left>g-d||n.right<0+d||n.top>f-d||n.bottom<0+d);b.visible=g;b.frame={dx:(n.left+n.width/2-0)/e,dy:(n.top+n.height/2-0)/m};a=h(a);!g&&a.hasClass("--ui--visible")?(a.removeClass("--ui--visible"),b.event="exit"):g?g&&(a.hasClass("--ui--visible")?b.event="scroll":(b.event="enter",a.addClass("--ui--visible"))):
b.event="off-scroll"}return b};h.ZxQuery=f;Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var d=a.length;0<=--d&&a.item(d)!==this;);return-1<d});(function(){function a(d,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var b=document.createEvent("CustomEvent");
b.initCustomEvent(d,c.bubbles,c.cancelable,c.detail);return b}if("function"===typeof window.CustomEvent)return!1;a.prototype=window.Event.prototype;window.CustomEvent=a})();String.prototype.hashCode=function(){var a=0;if(0===this.length)return a;for(var d=0;d<this.length;d++)var b=this.charCodeAt(d),a=(a<<5)-a+b,a=a|0;return a};String.prototype.startsWith||(String.prototype.startsWith=function(a,d){return this.substr(!d||0>d?0:+d,a.length)===a});u.exports=h},{"./Logger":2,"./Util.js":4}],6:[function(q,
u,A){q=q("./zuix/Zuix.js");"object"===typeof u&&u.exports?u.exports=q.call(this):this.zuix=q.call(this)},{"./zuix/Zuix.js":12}],7:[function(q,u,A){u.exports=function(a){return null}},{}],8:[function(q,u,A){function a(a,b,e){f=a;this._options=null;this.contextId=null==b||null==b.contextId?null:b.contextId;this.componentId=null;this.trigger=function(a,d,b){"function"===typeof e&&e(a,d,b)};this.behavior=this._controller=this._style=this._css=this._view=this._model=this._container=null;this._eventMap=
[];this._behaviorMap=[];this._c=null;this.options(b);return this}var k=q("../helpers/Logger")("ComponentContext.js"),g=q("./OptionAttributes")(),e=q("../helpers/ZxQuery"),b=q("../helpers/Util"),f=null;a.prototype.container=function(a){if(null==a)return this._container;a instanceof e.ZxQuery&&(a=a.get());this._container=a;return this};a.prototype.view=function(a){if("undefined"===typeof a)return this._view;a instanceof e.ZxQuery&&(a=a.get());k.t(this.componentId,"view:attach","timer:view:start");if("string"===
typeof a){a={content:a};this.trigger(this,"html:parse",a);a=a.content;var b=e.wrapElement("div",a);null!=b.firstElementChild&&(null!=b.firstElementChild.getAttribute(g.dataUiView)?1===b.children.length&&(a=b.firstElementChild.innerHTML):a=b.innerHTML);null!=this._container?(this._view=this._container,this._view.innerHTML+=a):null!=this._view?this._view.innerHTML=a:this._view=b;e(this._view).find("script").each(function(a,d){"true"!==this.attr("zuix-loaded")&&(this.attr("zuix-loaded","true"),eval.call(window,
d.innerHTML))});this.trigger(this,"view:process",e(this._view))}else a instanceof e.ZxQuery&&(a=a.get()),null!=this._container?(this._view=e.wrapElement("div",a.outerHTML).firstElementChild,this._view.removeAttribute(g.dataUiView),this._container.appendChild(this._view),this._view=this._container):this._view=a;a=e(this._view);!1===this._options.css?a.addClass("zuix-css-ignore"):a.removeClass("zuix-css-ignore");a.find("["+g.dataUiLoad+"]").each(function(a,d){this.attr(g.dataUiLoaded,"false")});this.modelToView();
k.t(this.componentId,"view:attach","timer:view:stop");return this};a.prototype.style=function(a){if("undefined"===typeof a)return this._style;k.t(this.componentId,"view:style","timer:view:start");null==a||a instanceof Element?(this._css=a instanceof Element?a.innerText:a,this._style=e.appendCss(a,this._style,this.componentId)):"string"===typeof a&&(this._css=a,a=e.wrapCss("["+g.dataUiComponent+'="'+this.componentId+'"]:not(.zuix-css-ignore)',a),a={content:a},this.trigger(this,"css:parse",a),a=a.content,
this._style=e.appendCss(a,this._style,this.componentId));k.t(this.componentId,"view:style","timer:view:stop");return this};a.prototype.model=function(a){if("undefined"===typeof a)return this._model;this._model=a;this.modelToView();null!=this._c&&b.isFunction(this._c.update)&&this._c.update.call(this._c);return this};a.prototype.controller=function(a){if("undefined"===typeof a)return this._controller;this._controller=a;return this};a.prototype.options=function(a){if(null==a)return this._options;var b=
this._options=this._options||{};e.each(a,function(a,d){b[a]=d});null!=b.componentId&&(this.componentId=b.componentId);this.container(b.container);this.view(b.view);"undefined"!==typeof b.css&&this.style(b.css);this.controller(b.controller);this.model(b.model);return this};a.prototype.on=function(a,b){this._c.on(a,b);return this};a.prototype.loadCss=function(a,g){var m=this;b.isNoU(a)&&(a={});b.isNoU(a.caching)||(g=a.caching);var w=m.componentId+".css";b.isNoU(a.path)||(w=a.path);g||(w+="?"+(new Date).getTime());
e.ajax({url:f.getResourcePath(w),success:function(e){m.style(e);b.isFunction(a.success)&&a.success.call(m,e)},error:function(e){k.e(e,m);b.isFunction(a.error)&&a.error.call(m,e)},then:function(){b.isFunction(a.then)&&a.then.call(m)}});return this};a.prototype.loadHtml=function(a,n){var m=this,w=m.componentId;b.isNoU(a)&&(a={});b.isNoU(a.caching)||(n=a.caching);b.isNoU(a.path)||(w=a.path);var p=f.store("zuix.inlineViews");null==p&&(p=[],f.store("zuix.inlineViews",p));if(null!=p[w])m.view(p[w]),b.isFunction(a.success)&&
a.success.call(m,p[w]),b.isFunction(a.then)&&a.then.call(m);else{var h=e().find("["+g.dataUiView+'="'+w+'"]:not(['+g.dataUiComponent+'*=""])');if(0<h.length()){var c=h.get(0);p[w]=c.innerHTML;m.view()===c||null!=m.container()&&m.container().contains(c)?(h.attr(g.dataUiView,null),m._view=c,this.trigger(this,"view:process",e(m.view()))):m.view(c.innerHTML);b.isFunction(a.success)&&a.success.call(m,c.innerHTML);b.isFunction(a.then)&&a.then.call(m)}else p=b.isNoU(a.cext)?".html":a.cext,w==m.componentId&&
(w+=p+(n?"":"?"+(new Date).getTime())),e.ajax({url:f.getResourcePath(w),success:function(c){m.view(c);b.isFunction(a.success)&&a.success.call(m,c)},error:function(c){k.e(c,m);b.isFunction(a.error)&&a.error.call(m,c)},then:function(){b.isFunction(a.then)&&a.then.call(m)}})}return this};a.prototype.viewToModel=function(){k.t(this.componentId,"view:model","timer:vm:start");var a=this;this._model={};e(this._view).find("["+g.dataUiField+"]").each(function(e,f){if(0<this.parent("pre,code").length())return!0;
var k=this.attr(g.dataUiField),p=!b.isNoU(f.innerHTML)&&b.isIE()?f.cloneNode(!0):f;if(0<k.indexOf(".")){for(var k=k.split("."),h=a._model,c=0;c<k.length-1;c++)"undefined"===typeof h[k[c]]&&(h[k[c]]={}),h=h[k[c]];h[k[k.length-1]]=p}else a._model[k]=p});k.t(this.componentId,"view:model","timer:vm:stop");return this};a.prototype.modelToView=function(){k.t(this.componentId,"model:view","timer:mv:start");if(null!=this._view&&null!=this._model){var a=this;e(this._view).find("["+g.dataUiField+"]").each(function(f,
m){if(0<this.parent("pre,code").length())return!0;var k=this.attr(g.dataBindTo);null==k&&(k=this.attr(g.dataUiField));if("function"===typeof a._model)a._model.call(e(a._view),this,k);else{var p=b.propertyFromPath(a._model,k);if("function"===typeof p)p.call(e(a._view),this,k);else if(null!=p)switch(m.tagName.toLowerCase()){case "img":m.src=b.isNoU(p.src)?b.isNoU(p.innerHTML)?p:p.innerHTML:p.src;p.alt&&(m.alt=p.alt);break;case "a":m.href=b.isNoU(p.href)?b.isNoU(p.innerHTML)?p:p.innerHTML:p.getAttribute("href");
p.title&&(m.title=p.title);b.isNoU(p.href)||b.isNoU(p.innerHTML)||""===p.innerHTML.trim()||(m.innerHTML=p.innerHTML);break;case "input":m.value=b.isNoU(p.value)?b.isNoU(p.innerHTML)?p:p.innerHTML:p.value;break;default:if(m.innerHTML=b.isNoU(p.innerHTML)?p:p.innerHTML,null!=p.attributes)for(k=0;k<p.attributes.length;k++){var h=p.attributes[k];h.specified&&h.name!==g.dataUiField&&("+"===h.value[0]&&m.hasAttribute(h.name)&&(h.value=m.getAttribute(h.name)+" "+h.value.substring(1)),m.setAttribute(h.name,
h.value))}}}})}k.t(this.componentId,"model:view","timer:mv:stop");return this};u.exports=a},{"../helpers/Logger":2,"../helpers/Util":4,"../helpers/ZxQuery":5,"./OptionAttributes":11}],9:[function(q,u,A){function a(){}function k(a,b){null!=a&&(I=!a);null!=b&&(K=b);return!E&&!I}function g(a){null==a&&(a=document);G.indexOf(a)||G.push(a)}function e(a){for(var b=0;b<B.length;b++){var c=B[b];if(c.element===a)return c.waiting}return null}function b(a){null==a&&0<G.length&&(a=G.unshift());a instanceof v.ZxQuery&&
(a=a.get());var b=e(a),b=v(a).find("["+t.dataUiLoad+"]:not(["+t.dataUiLoaded+"]),["+t.dataUiInclude+"]:not(["+t.dataUiLoaded+"])"),b=Array.prototype.slice.call(b._selection);B.push({element:a,waiting:b});a=[];for(var c=0;c<b.length;c++){var d=b[c],y=parseInt(d.getAttribute(t.dataUiPriority));isNaN(y)&&(y=0);for(var f=0,g=d.parentNode,h=!1;null!=g&&g!==document;){f++;if(null!=g.getAttribute(t.dataUiView)){h=!0;break}g=g.parentNode}h||(g=new C,g.element=d,g.priority=y+1E3*f,a.push(g))}for(c=b=0;c<a.length;c++){d=
!1;for(y=0;y<z.length;y++)if(a[c].element===z[y].element){d=!0;break}d||(d=a[c].element,y=d.getAttribute(t.dataUiOptions),w(d,y),z.push(a[c]),b++)}r.t("componentize:count",z.length,b);(0===b||0===G.length&&0===z.length)&&F.trigger(this,"componentize:end")}function f(){z.sort(function(a,y){return a.priority-y.priority});for(var a=null,b=0<z.length?z.shift():null;null!=b&&null!=b.element;){var c=N(b.element);k()&&c?(b.lazy=!0,b.visible=v.getPosition(b.element,K).visible):(b.lazy=!1,b.visible=!0);if(null!=
b&&null!=b.element&&b.visible){a={item:b,cancelable:b.lazy};break}if(0<z.length)b=z.shift();else break}return a}function d(a){b(a);a=f();null!=a&&L.append([a])}function n(a){var b=v(a);if(null!=b.attr(t.dataUiLoaded)||0<b.parent("pre,code").length())return!1;b.attr(t.dataUiLoaded,"true");var c=b.attr(t.dataUiOptions);l.isNoU(c)?c={}:(c=l.propertyFromPath(window,c),c=l.cloneObject(c)||{});var e=b.attr(t.dataUiContext);if(!l.isNoU(e)){var y=F.context(e);null!==y&&(c=y.options());c.contextId=e}l.isNoU(c.view)&&
!b.isEmpty()?(c.view=a,c.viewDeferred=!0):l.isNoU(c.view)&&l.isNoU(c.container)&&b.isEmpty()&&(c.container=a);e=b.attr(t.dataUiLoad);if(l.isNoU(e))if(e=b.attr(t.dataUiInclude),null!=e)e=m(e),b.attr(t.dataUiInclude,e),b.attr(t.dataUiComponent,e),l.isNoU(c.controller)&&(c.controller=function(){});else return!1;else e=m(e),b.attr(t.dataUiLoad,e);y=b.attr(t.dataBindModel);!l.isNoU(y)&&0<y.length&&(c.model=l.propertyFromPath(window,y));b=b.attr(t.dataUiPriority);l.isNoU(b)||(c.priority=parseInt(b));v(a).one("component:ready",
function(){g(a);d(a)});F.load(e,c);return!0}function m(a){var b=F.store("config"),b=null!=b&&null!=b.libraryPath?b.libraryPath:"https://genielabs.github.io/zkit/lib";a.startsWith("@lib/")&&(a=b+a.substring(4));return a}function w(a,b){"string"===typeof b&&(b=l.propertyFromPath(window,b));null!=a&&null!=b&&(null!=b.lazyLoad&&a.setAttribute(t.dataUiLazyload,b.lazyLoad.toString().toLowerCase()),null!=b.contextId&&a.setAttribute(t.dataUiContext,b.contextId.toString().toLowerCase()),null!=b.componentId&&
a.setAttribute(t.dataUiLoad,b.componentId.toString().toLowerCase()))}function p(a){for(var b=0;b<M.length;b++){var c=M[b];if(c.element===a)return c}return null}function h(a){a={element:a};M.push(a);return a}function c(a){for(var b=0;b<x.length;b++){var c=x[b];if(c.element===a)return c}return null}function D(a){a={element:a};x.push(a);return a}function N(a){if("false"===a.getAttribute(t.dataUiLazyload))return!1;var b=p(a);if(null==b){var e=v.getClosest(a.parentNode,"["+t.dataUiLazyload+"=scroll],["+
t.dataUiLazyload+"=true]");if(null!=e)return b=h(a),a=c(e),null==a&&(a=D(e),"scroll"===e.getAttribute(t.dataUiLazyload)&&function(a,b){var c=(new Date).getTime();v(b).on("scroll",function(){var a=(new Date).getTime();100<a-c&&(c=a,d(b))})}(this,e)),!0;if("true"===a.getAttribute(t.dataUiLazyload))return b=h(a),!0}else return!0;return!1}var t=q("./OptionAttributes")();a.prototype.componentize=function(a,b){F.trigger(this,"componentize:begin");if(null!=b){var c=e(a);null==c?B.push({element:a,waiting:[b]}):
c.push(b)}else g(a);d(a);return this};a.prototype.applyOptions=function(a,b){w(a,b);return this};a.prototype.resolvePath=function(a){return m(a)};a.prototype.willLoadMore=function(){return 0<z.length||0<G.length};a.prototype.lazyLoad=function(a,b){return k(a,b)};a.prototype.dequeue=function(a){for(var b=0;b<z.length;b++)if(z[b].element===a){z.splice(b,1);break}};a.prototype.setHost=function(a){F=a;return this};u.exports=function(){return new a};var r=q("../helpers/Logger")("ComponentContext.js"),
l=q("../helpers/Util"),v=q("../helpers/ZxQuery"),G=[],z=[],M=[],x=[],C=function(){return{element:null,priority:0,visible:!0,lazy:!1}},L=q("./../helpers/AsynChain")({doWork:function(a,b){v(a.element).one("component:ready",function(){b()});return n(a.element)},willBreak:function(){return!1},status:function(a){switch(a){case "done":d()}}}),I=!1,K=1,F=null,E=!1;navigator&&navigator.userAgent&&(E=(new RegExp(/bot|googlebot|crawler|spider|robot|crawling/i)).test(navigator.userAgent));E&&r.d(navigator.userAgent,
"is a bot, ignoring `lazy-loading` option.");var B=[]},{"../helpers/Logger":2,"../helpers/Util":4,"../helpers/ZxQuery":5,"./../helpers/AsynChain":1,"./OptionAttributes":11}],10:[function(q,u,A){function a(a){var e=this;this._view=null;this.context=a;this._fieldCache=[];this.destroy=this.update=this.create=this.init=null;this._childNodes=[];this.saveView=function(){this.restoreView();this.view().children().each(function(a,b){e._childNodes.push(b)})};this.restoreView=function(){0<this._childNodes.length&&
(e.view().html(""),k.each(e._childNodes,function(a,b){e.view().append(b)}),this._childNodes.length=0)};this.on=function(a,b){this.addEvent(a,b);return this};this.mapEvent=function(a,b,d,e){null!=b&&(b.off(d,this.eventRouter),a[d]=e,b.on(d,this.eventRouter))};this.eventRouter=function(b){"function"===typeof a._behaviorMap[b.type]&&a._behaviorMap[b.type].call(e.view(),b,b.detail);"function"===typeof a._eventMap[b.type]&&a._eventMap[b.type].call(e.view(),b,b.detail)};var b=a.options(),f=null;if(null!=
b.on)for(var d in b.on)b.on.hasOwnProperty(d)&&(f=b.on[d],e.addEvent(d,f));if(null!=b.behavior)for(var n in b.behavior)b.behavior.hasOwnProperty(n)&&(f=b.behavior[n],e.addBehavior(n,f));a.controller().call(this,this);return this}var k=q("../helpers/ZxQuery");a.prototype.addEvent=function(a,e){this.mapEvent(this.context._eventMap,this.view(),a,e);return this};a.prototype.addBehavior=function(a,e){this.mapEvent(this.context._behaviorMap,this.view(),a,e);return this};a.prototype.field=function(a){return null};
a.prototype.clearCache=function(){this._fieldCache.length=0};a.prototype.view=function(a){if(null!=this.context.view()||this._view!==this.context.view())this.clearCache(),this._view=k(this.context.view());if(null!=a)return this._view.find(a);if(null!==this._view)return this._view;throw Error("Not attached to a view yet.");};a.prototype.model=function(a){if(null==a)return this.context.model();this.context.model(a);return this};a.prototype.options=function(){return this.context.options()};a.prototype.trigger=
function(a,e,b){null==this.context._eventMap[a]&&!0!==b&&this.addEvent(a,null);!0===b?(b=this.context.container(),null==b&&(b=this.context.view()),null!=b&&k(b).trigger(a,e),this.context.trigger(this.context,a,e)):this.view().trigger(a,e);return this};a.prototype.expose=function(a,e){if("object"===typeof a){var b=this;k.each(a,function(a,d){b.context[a]=d})}else this.context[a]=e;return this};a.prototype.loadCss=function(a){this.context.loadCss(a);return this};a.prototype.loadHtml=function(a){this.saveView();
this.context.loadHtml(a);return this};a.prototype.log={};a.prototype.for=function(a){return this};u.exports=a},{"../helpers/ZxQuery":5}],11:[function(q,u,A){var a=Object.freeze({dataBindModel:"data-bind-model",dataBindTo:"data-bind-to",dataUiComponent:"data-ui-component",dataUiContext:"data-ui-context",dataUiField:"data-ui-field",dataUiInclude:"data-ui-include",dataUiLazyload:"data-ui-lazyload",dataUiLoad:"data-ui-load",dataUiLoaded:"data-ui-loaded",dataUiOptions:"data-ui-options",dataUiPriority:"data-ui-priority",
dataUiView:"data-ui-view",zuixLoaded:"zuix-loaded"});u.exports=function(k){return a}},{}],12:[function(q,u,A){function a(){x.setHost(this);this._store=[];this._fieldCache=[];return this}function k(a){"function"!==typeof a["for"]&&(a["for"]=function(b){return K[b]=a});return a}function g(a,b,c){l.isNoU(c)&&(c=this);null==c._fieldCache&&(c._fieldCache={});var d=null;if("undefined"===typeof c._fieldCache[a]){if(d=v(b).find("["+C.dataUiField+'="'+a+'"]'),null!=d&&0<d.length()&&(c._fieldCache[a]=d,1===
d.length()&&l.isNoU(d.field))){var e=this;d.field=function(a){return e.field(a,d,d)}}}else d=c._fieldCache[a];return d}function e(a){var b=zuix.store("config");a=x.resolvePath(a);!a.startsWith("//")&&0>a.indexOf("://")&&(a=(null!=b&&null!=b.resourcePath?b.resourcePath:"")+a);return a}function b(a,b){var d=p(a.componentId);null!==d&&null==b.controller&&null==a.controller()&&(a.controller(d.controller),r.t(a.componentId+":js","component:cached:js"));if(l.isNoU(b.view)){if(null!==d&&(null!=d.view&&(a.view(d.view),
r.t(a.componentId+":html","component:cached:html")),!1!==b.css&&(b.css=!1,d.css_applied||(d.css_applied=!0,a.style(d.css),r.t(a.componentId+":css","component:cached:css")))),l.isNoU(a.view()))return P("resource-loader").queue(a.componentId+":html",function(){B[a.componentId]=this;a.loadHtml({cext:b.cext,caching:J,success:function(e){null==d&&(d=c(a));d.view=e;delete d.controller;!1!==b.css?(B[a.componentId].step(a.componentId+":css"),a.loadCss({caching:J,success:function(a){d.css=a},error:function(b){r.e(b,
a)},then:function(){h(a,B[a.componentId])}})):h(a,B[a.componentId])},error:function(c){r.e(c,a);l.isFunction(b.error)&&a.error.call(a,c)}})},b.priority),a}else a.view(b.view);null==a.controller()?P("resource-loader").queue(a.componentId+":js",function(){B[a.componentId]=this;h(a,B[a.componentId])},L.length):h(a);return a}function f(a){if(a instanceof Element){var b=a;a=zuix.context(b);x.dequeue(b)}l.isNoU(a)||(l.isNoU(a._c)||(l.isNoU(a._c.view())||(a._c.view().attr(C.dataUiComponent,null),a._c.view().reset(),
l.isNoU(a._c._fieldCache)||v.each(a._c._fieldCache,function(a,b){b.reset()}),a._c.view().detach()),l.isFunction(a._c.destroy)&&a._c.destroy.call(a)),a=a.container(),null!=a&&null!=a.parentNode&&a.parentNode.removeChild(a))}function d(a){a=new z(zuix,a,m);L.push(a);return a}function n(a,b){var c=null;if(a instanceof v.ZxQuery)a=a.get();else if("string"===typeof a){var d=v.find("["+C.dataUiContext+'="'+a+'"]');0<d.length()&&(a=d.get())}v.each(L,function(b,d){if(a instanceof Element&&(d.view()===a||
d.container()===a)||l.objectEquals(d.contextId,a))return c=d,!1});if("function"===typeof b&&(a instanceof Element||a instanceof v.ZxQuery))if(null==c)v(a).one("component:ready",function(){c=zuix.context(this);b.call(c,c)});else b.call(c,c);return c}function m(a,b,c){l.isFunction(I[b])&&I[b].call(a,c)}function w(a){null!=a&&(J=a);return J}function p(a){var b=null;v.each(H,function(c,d){if(l.objectEquals(d.componentId,a))return b=d,!1});return b}function h(a,b){if("undefined"===typeof a.options().controller&&
null===a.controller())if(r.d(a.componentId,"controller:load"),l.isNoU(b)||b.step(a.componentId+":js"),l.isFunction(K[a.componentId]))a.controller(K[a.componentId]),D(a,b);else{var c=function(b){var c=a.componentId+".js"+(J?"":"?"+(new Date).getTime());v.ajax({url:e(c),success:function(b){try{var c=b.indexOf("function"),d=b.indexOf(".load");1<d&&d<c&&(b=b.substring(0,d-4));var e=b.indexOf(".controller");1<e&&e<c&&(b=b.substring(e+11));var f=b.indexOf("//<--controller");0<f&&(b=b.substring(0,f));b+=
'\n//# sourceURL="'+a.componentId+'.js"\n';a.controller(t(b))}catch(g){r.e(Error(),g,b,a),l.isFunction(a.error)&&a.error.call(a,g)}},error:function(b){r.e(b,Error(),a);l.isFunction(a.error)&&a.error.call(a,b)},then:function(){D(a,b)}})};l.isNoU(b)?P("resource-loader").queue(a.componentId+":js",function(){c(B[a.componentId]=this)},a.options().priority):c(b)}else D(a,b)}function c(a){var b=a.view().innerHTML,b=v.wrapElement("div",b),b={componentId:a.componentId,view:b.innerHTML,css:a._css,controller:a.controller()};
H.push(b);r.t(a.componentId,"bundle:added");return b}function D(a,b){B[a.componentId]=null;if(l.isNoU(a.view()))r.e(a.componentId,"component:view:undefined");else{var d=p(a.componentId);a.options().viewDeferred?r.w(a.componentId,"component:deferred:load"):null===d?d=c(a):null==d.controller&&(d.controller=a.controller());null!=b&&b.callback(function(){r.d(a.componentId,"controller:create:deferred");N(a._c)});v(a.view()).attr(C.dataUiContext,a.contextId);r.d(a.componentId,"component:initializing");
if(l.isFunction(a.controller())){var e=a._c=new M(a);e.log=q("../helpers/Logger")(a.contextId);"function"===typeof e.init&&e.init();if(!l.isNoU(e.view()))if(null==e.view().attr(C.dataUiComponent)&&e.view().attr(C.dataUiComponent,a.componentId),l.isNoU(a.model())&&!l.isNoU(a.view())&&a.viewToModel(),e.trigger("view:apply"),a.options().viewDeferred){a.options().viewDeferred=!1;e.saveView();null===d&&(d={componentId:a.componentId,controller:a.controller()},H.push(d),r.t(a.componentId,"bundle:added"),
r.d(a.componentId,"component:deferred:load"));var f=-1;!1!==a.options().css&&(null==d.css?(-1===f&&(f=0),f++,a.loadCss({caching:J,success:function(b){null==d.css&&(d.css=b);r.d(a.componentId,"component:deferred:css",f)},then:function(){0===--f&&null!=b&&b.end()}})):a.style(d.css));!1!==a.options().html&&(null==d.view?(-1===f&&(f=0),f++,a.loadHtml({cext:a.options().cext,caching:J,success:function(b){null==d.view&&(d.view=b);r.d(a.componentId,"component:deferred:html",f)},error:function(b){r.e(b,a);
l.isFunction(a.options().error)&&a.options().error.call(a,b)},then:function(){0===--f&&null!=b&&b.end()}})):a.view(d.view));-1===f&&null!=b&&b.end()}else null!=b&&b.end();null==b&&(r.d(a.componentId,"controller:create"),N(e))}else r.w(a.componentId,"component:controller:undefined")}}function N(a){r.t(a.context.componentId,"controller:init","timer:init:start");a.view().find("["+C.dataUiLoaded+'="false"]:not(['+C.dataUiComponent+"])").each(function(a,b){this.attr(C.dataUiLoaded,null)});a.field=function(b){b=
g(b,a.view(),a);b.on=function(b,c,d,e){if("string"===typeof c){var f=c;c=function(){a.trigger(f,d,e)}}return v.ZxQuery.prototype.on.call(this,b,c)};return b};l.isFunction(a.create)&&a.create();a.trigger("view:create");l.isFunction(a.context.ready)&&a.context.ready.call(a.context,a.context);a.trigger("component:ready",a.view(),!0);r.t(a.context.componentId,"controller:init","timer:init:stop");r.i(a.context.componentId,"component:loaded",a.context.contextId);if(null!=E[a.context.componentId]){var c=
E[a.context.componentId];E[a.context.componentId]=null;for(var d=void 0;null!=c&&null!=(d=c.shift());)b(d.c,d.o)}zuix.componentize(a.view())}function t(a){var b=function(a){};if("string"===typeof a)try{b=eval.call(this,a)}catch(c){r.e(this,c,a)}return b}var r=q("../helpers/Logger")("Zuix.js"),l=q("../helpers/Util"),v=q("../helpers/ZxQuery"),G=q("../helpers/TaskQueue"),z=q("./ComponentContext"),M=q("./ContextController"),x=q("./Componentizer")(),C=q("./OptionAttributes")();q("./ComponentCache");var L=
[],I=[],K={},F=[],E={},B=[],P=function(a){l.isNoU(F[a])&&(F[a]=new G(function(a,b,c){m(a,b,c)}));return F[a]},H=[],Q=0,J=!0;a.prototype.field=function(a,b){return g.call(this,a,b)};a.prototype.load=function(a,c){var e;var f=c;e=x.resolvePath(a);var g=null;l.isNoU(f)?(f={},g=new z(zuix,f,m)):(f.componentId=e,l.isNoU(f.contextId)?(!1===f&&(f={}),f.contextId="zuix-ctx-"+ ++Q,g=d(f)):(g=n(f.contextId),null!==g?g.options(f):g=d(f)));g.componentId!=e&&(g.componentId=e);l.isFunction(f.ready)&&(g.ready=f.ready);
l.isFunction(f.error)&&(g.error=f.error);null==B[e]?(B[e]=!0,e=b(g,f)):(null==E[e]&&(E[e]=[]),E[e].push({c:g,o:f}),e=g);return e};a.prototype.unload=function(a){f(a);return this};a.prototype.controller=function(a){return k.call(this,a)};a.prototype.context=function(a,b){return n.call(this,a,b)};a.prototype.createComponent=function(a,b){null==b&&(b={});l.isNoU(b.contextId)&&(b.contextId="zuix-ctx-"+ ++Q);if(null!=n(b.contextId))throw Error("Context arelady exists.");b.container=document.createElement("div");
b.componentId=a;x.applyOptions(b.container,b);return d(b)};a.prototype.trigger=function(a,b,c){m(a,b,c);return this};a.prototype.hook=function(a,b){l.isNoU(b)?delete I[a]:I[a]=b;return this};a.prototype.using=function(a,b,c){b=x.resolvePath(b);a=a.toLowerCase();var d=a+"-"+b.hashCode();if("component"===a)a=n(d),null==a?zuix.load(b,{contextId:d,view:"",priority:-10,ready:function(a){"function"===typeof c&&c(b,a)},error:function(){c(b,null)}}):"function"===typeof c&&c(b,a);else{var e="style"===a;if(0===
v.find(a+'[id="'+d+'"]').length()){var f=document.head||document.getElementsByTagName("head")[0],g=document.createElement(a);g.type=e?"text/css":"text/javascript";g.id=d;f.appendChild(g);var h=function(a){e?g.styleSheet?g.styleSheet.cssText=a:g.appendChild(document.createTextNode(a)):g.innerText?g.innerText=a:g.appendChild(document.createTextNode(a));c&&c(b,d)},k="_res/"+a+"/"+d;a=p(k);null!=a?h(e?a.css:a.controller):v.ajax({url:b,success:function(a){H.push({componentId:k,view:null,css:e?a:null,controller:e?
null:a,using:b});h(a)},error:function(){f.removeChild(g);c&&c(b)}})}else console.log("Resource already added "+d+"("+b+")"),c&&c(b,d)}};a.prototype.lazyLoad=function(a,b){if(null!=a)x.lazyLoad(a,b);else return x.lazyLoad();return this};a.prototype.httpCaching=function(a){if(null!=a)w(a);else return w();return this};a.prototype.componentize=function(a){x.componentize(a);return this};a.prototype.store=function(a,b){null!=b&&(this._store[a]=b);return this._store[a]};a.prototype.getResourcePath=function(a){return e(a)};
a.prototype.bundle=function(a,b){if(l.isNoU(a))return H;if(a&&"boolean"===typeof a){r.t("bundle:start");var c=x.lazyLoad();x.lazyLoad(!1);x.componentize();if("function"===typeof b){var d=function(a){setTimeout(function(){x.willLoadMore()?(r.t("bundle:wait"),a(a)):(r.t("bundle:end"),x.lazyLoad(c),b())},1E3)};d(d)}}else{for(d=0;d<a.length;d++)a[d].css_applied&&delete a[d].css_applied,"string"===typeof a[d].controller&&(a[d].controller=eval(a[d].controller));H=a}return this};a.prototype.$=v;a.prototype.TaskQueue=
G;a.prototype.ZxQuery=v.ZxQuery;a.prototype.dumpCache=function(){return H};a.prototype.dumpContexts=function(){return L};u.exports=function(b){var c=new a;"loading"!=document.readyState?c.componentize():document.addEventListener("DOMContentLoaded",function(){c.componentize()});r.monitor(function(a,b){l.isFunction(c.monitor)&&c.monitor(a,Array.prototype.slice.call(b))});return c}},{"../helpers/Logger":2,"../helpers/TaskQueue":3,"../helpers/Util":4,"../helpers/ZxQuery":5,"./ComponentCache":7,"./ComponentContext":8,
"./Componentizer":9,"./ContextController":10,"./OptionAttributes":11}]},{},[6])(6)});
//# sourceMappingURL=zuix.min.js.map
