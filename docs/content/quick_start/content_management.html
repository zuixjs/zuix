#### Content Management

With *Content Management* we are referring here to the capability of
dynamically loading into a page some content that is placed in
other files.

This way, it is possible to structure a web site or application into modules
that can be conveniently organized in the directory tree.

For example, the following page template

<div style="margin: 24px">
<div self="size-1of2 center" layout="column center-center" style="height: 320px">
<div self="size-x1" layout="column center-center" class="mdl-color--blue-100">header</div>
<div self="size-x3" layout="column center-center" class="mdl-color--teal-50">main content</div>
<div self="size-x1" layout="column center-center" class="mdl-color--blue-100">footer</div>
</div>
</div>

could be implemented with the following files:

- site/layout/header.html
- site/content/main.html
- site/layout/footer.html
- **index.html**

where the ```index.html``` is the main page that will include the other files.

<a id="Getting_Started--Content_Loading"></a>
##### Loading content

To include a content, just add a ```div``` (or any other tag supposed to be a container element)
with the attribute ```data-ui-include``` set to the path of the content that
you want to be loaded.

<small><strong>EXAMPLE PAGE - </strong> **HTML** file ```index.html```</small>
<pre data-line="9,11,13"><code class="language-html">
<html>
    <head>
        <!-- ... Script/CSS includes ... -->
        <script src="js/zuix.min.js"></script>
        <!-- ... -->
    </head>
    <body>
        <!-- header -->
        <div data-ui-include="site/layout/header"></div>
        <!-- page content -->
        <div data-ui-include="site/content/main"></div>
        <!-- footer -->
        <div data-ui-include="site/layout/footer"></div>
    </body>
</html>
</code></pre>

The ```data-ui-include``` attribute used at lines 9-11-13, will instruct *ZUIX*
to load the specified content into each ```div``` element.

Notice that the value of the ```data-ui-include``` attribute is the URL of the file to include
<u>without</u> the ```.html``` extension. This value is the
*component identifier*.

The following example shows how a ```div``` will looks like after
the content ```site/common/links``` is included into it.

<small><strong>EXAMPLE</strong> - **HTML** file [site/common/links.html](https://genielabs.github.io/zuix/site/common/links.html)</small>
<pre data-line="1"><code class="language-html">
    <!-- site/common/links --->
    <div layout="row center-spread">
        <a href="https://github.com/genielabs/zuix">ZUIX on GitHub</a>
        <a href="https://github.com/genielabs">@genielabs</a>
        <a href="https://genielabs.github.io/HomeGenie/">HomeGenie</a>
    </div>
</code></pre>

Element including the above content

<pre data-line="1"><code class="language-html">
    <!-- include common links -->
    <div data-ui-include="site/common/links"></div>
</code></pre>

<small><strong>PROCESSED OUTPUT</strong> - resulting ```div``` after content is loaded into it</small>
<pre data-line="1,4"><code class="language-html">
    <!-- include common links -->
    <div data-ui-include="site/common/links" data-ui-loaded="true"
         data-ui-component="site/common/links">
        <!-- site/common/links --->
        <div layout="row center-spread">
            <a href="https://github.com/genielabs/zuix">ZUIX on GitHub</a>
            <a href="https://github.com/genielabs">@genielabs</a>
            <a href="https://genielabs.github.io/HomeGenie/">HomeGenie</a>
        </div>
    </div>
</code></pre>

<small><strong>RESULT</strong></small>

<div data-ui-include="site/common/links" data-ui-options="main.options.content_no_css"></div>

<p>&nbsp;</p>

It is also possible to include content that is located on a different server by
specifying the absolute URL:

<pre><code class="language-html">
    <div data-ui-include="https://genielabs.github.io/zuix/site/common/links"></div>
</code></pre>

##### Lazy loading

When dealing with big pages that request to load a bunch
of *includes*, it is perhaps desirable to have the content
loaded only when it actually comes into the user screen's view.
This kind of *on-demand* content composition, is called
*lazy loading*.

To enable this features, set the attribute ```data-ui-lazyload="true"```
on the same element you want to enable lazy loading on, or on a container
element so that all the "include" elements contained in it will inherit
the option.
In this last case, all container's children will be lazy-loaded.

To force loading of a particular element that currently
inherits lazy-loading, we set on it the attribute ```data-ui-lazyload="false"```.

<small><strong>EXAMPLE - </strong> Use of lazy loading option</small>
<pre data-line="1,5"><code class="language-html">
<div data-ui-lazyload="true">
    <!-- the "content/preface" include will load anyway
          because of the 'data-ui-lazyload=false' option -->
    <div data-ui-include="content/preface"
         data-ui-lazyload="false"></div>
    <!-- following 'includes' inherits 'data-ui-lazyload' from
         the parent and these will be loaded only when the user
         scrolls the page down to them -->
    <div data-ui-include="content/chapter_01"></div>
    <div data-ui-include="content/chapter_02"></div>
    <!-- ... --->
    <div data-ui-include="content/chapter_12"></div>
    <div data-ui-include="content/appendix"></div>
</div>
</code></pre>


##### Styling content

When including a content, after loading the ```.html``` file,
*ZUIX* will also try to load a ```.css``` style
file with the same location/basename.

If the style file is found, all style definitions contained in it,
will be applied to the container where the content has been loaded.

<small><strong>EXAMPLE - </strong> **HTML** file [site/common/links.html](https://genielabs.github.io/zuix/site/common/links.html)</small>
<pre><code class="language-html">
<!-- site/common/links --->
<div layout="row center-spread">
    <a href="https://github.com/genielabs/zuix">ZUIX on GitHub</a>
    <a href="https://github.com/genielabs">@genielabs</a>
    <a href="https://genielabs.github.io/HomeGenie/">HomeGenie</a>
</div>
</code></pre>

<small><strong>EXAMPLE - </strong> **CSS** file [site/common/links.css](https://genielabs.github.io/zuix/site/common/links.css)</small>
<pre data-line="1,9"><code class="language-css">
div[layout] {
    padding: 16px;
    margin: 24px;
    background-color: #1c88e6;
    -webkit-box-shadow: 9px 10px 36px -7px rgba(0,0,0,0.58);
    -moz-box-shadow: 9px 10px 36px -7px rgba(0,0,0,0.58);
    box-shadow: 9px 10px 36px -7px rgba(0,0,0,0.58);
}
a {
    color: white;
    font-size: 18px;
}
</code></pre>

Element including the above content

<pre><code class="language-html">
    <!-- include common links -->
    <div data-ui-include="site/common/links"></div>
</code></pre>

<small><strong>PROCESSED OUTPUT</strong> resulting ```div``` after content is loaded into it</small>
<pre data-line="12,20"><code class="language-html">
<!-- include common links -->
<div data-ui-include="site/common/links"  data-ui-loaded="true"
     data-ui-component="site/common/links">
    <!-- site/common/links --->
    <div layout="row center-spread">
        <a href="https://github.com/genielabs/zuix">ZUIX on GitHub</a>
        <a href="https://github.com/genielabs">@genielabs</a>
        <a href="https://genielabs.github.io/HomeGenie/">HomeGenie</a>
    </div>
</div>
<style type="text/css">
[data-ui-component="site/common/links"] div[layout] {
    padding: 16px;
    margin: 24px;
    background-color: #1c88e6;
    -webkit-box-shadow: 9px 10px 36px -7px rgba(0,0,0,0.58);
    -moz-box-shadow: 9px 10px 36px -7px rgba(0,0,0,0.58);
    box-shadow: 9px 10px 36px -7px rgba(0,0,0,0.58);
}
[data-ui-component="site/common/links"] a {
    color: white;
    font-size: 18px;
}
</style>
</code></pre>

<small><strong>RESULT</strong></small>
<div data-ui-include="site/common/links"
     data-ui-options="main.options.content"
     data-ui-lazyload="false"></div>

<p>&nbsp;</p>

So, as shown in the processed output, the ```.css``` style definitions
are applied only to the loaded content via the ```data-ui-component``` constraint,
making possible to keep **global style** files separated from **content-local style** files.

<div data-ui-include="content/quick_start/view_templates"
     data-ui-options="main.options.content_no_css"
     class="progressive-content-container">

<div class="content-loader">
    <div class="mdl-spinner mdl-js-spinner is-active"></div>
    <p><small>Loading <em>'View Templates'</em>...</small></p>
</div>

</div>
