/* zUIx v0.4.9-41 18.06.06 20:57:26 */

'use strict';!function(P){if("object"==typeof exports)module.exports=P();else if("function"==typeof define&&define.amd)define(P);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self);n.zuix=P()}}(function(){return function n(r,y,a){function k(c,e){if(!y[c]){if(!r[c]){var d="function"==typeof require&&require;if(!e&&d)return d(c,!0);if(f)return f(c,!0);throw Error("Cannot find module '"+c+"'");}d=y[c]={exports:{}};r[c][0].call(d.exports,
function(d){var a=r[c][1][d];return k(a?a:d)},d,d.exports,n,r,y,a)}return y[c].exports}for(var f="function"==typeof require&&require,e=0;e<a.length;e++)k(a[e]);return k}({1:[function(n,r,y){function a(a){d=a}function k(){null!==m&&(cancelAnimationFrame(m),m=null);h++;if(h<c.length&&!d.willBreak())return e(),!0;(h>=c.length||d.willBreak())&&f();return!1}function f(a){h=-1;c.length=0;c=[];d.status(null!=a?a:"done")}function e(){var a=c[h];if(null==a)return!1;var g=function(){null!==m&&(cancelAnimationFrame(m),
m=null);d.doWork(a.item,function(){m=requestAnimationFrame(k)})||k()};if(a.cancelable)if(d.willBreak())f("stopped");else if(null==m)m=requestAnimationFrame(g);else return!1;else g();return!0}a.prototype.isReady=function(){return 0===c.length||-1===h};a.prototype.getJobs=function(){return c};a.prototype.setJobs=function(a){0<c.length?(h=-1,c.length=0):(c=a.slice(),d.status("start",c),k())};a.prototype.append=function(d){this.isReady()?this.setJobs(d):Array.prototype.push.apply(c,d)};var c=[],h=-1,
d=null,m=null;r.exports=function(d){return new a(d)}},{}],2:[function(n,r,y){function a(a){f=window?window.console:{};e=window?window:{};this._timers={};this.args=function(d,a,c){d="%c "+a+" %c"+(new Date).toISOString()+" %c"+d;a=["background-color:rgba(200,200,200,0.2);color:#8a53ff;","background-color:rgba(200,200,200,0.2);color:#777777","background-color:rgba(200,200,200,0.2);color:#888888;"];for(var g=0;g<c.length;g++)if("string"==typeof c[g]&&0===c[g].indexOf("timer:")){var b=c[g].split(":");
if(3===b.length){var v=void 0;switch(b[2]){case "start":this._timers[b[1]]=(new Date).getTime();d+=" %cSTART "+b[1];a.push("background-color:rgba(200,200,200,0.2);color:#999900;");break;case "stop":v=(new Date).getTime()-this._timers[b[1]],d+=" %cSTOP "+b[1]+" "+v+" ms",200<v?a.push("background-color:rgba(200,200,200,0.2);color:#ff0000;"):100<v?a.push("background-color:rgba(200,200,200,0.2);color:#ff7700;"):a.push("background-color:rgba(200,200,200,0.2);color:#00aa00;")}}}d+=" \n%c ";a.push("background-color:transparent;color:inherit;");
for(g=a.length-1;0<=g;g--)Array.prototype.unshift.call(c,a[g]);Array.prototype.unshift.call(c,d);Array.prototype.push.call(c,"\n\n")};this.log=function(d,m){"function"===typeof c&&c.call(a,d,m);e.zuixNoConsoleOutput||(this.args(a,d,m),f.log.apply(f,m))}}var k="log info warn error debug trace dir group groupCollapsed groupEnd time timeEnd profile profileEnd dirxml assert count markTimeline timeStamp clear".split(" "),f=null,e=null,c=null;a.prototype.monitor=function(a){c=a};a.prototype.console=function(a){if(a)window.console=
f;else for(window.console={},a=0;a<k.length;a++)window.console[k[a]]||(window.console[k[a]]=function(){})};a.prototype.i=a.prototype.info=a.prototype.l=a.prototype.log=function(){this.log("INFO",arguments);return this};a.prototype.w=a.prototype.warn=function(){this.log("WARN",arguments);return this};a.prototype.e=a.prototype.error=function(){this.log("ERROR",arguments);return this};a.prototype.d=a.prototype.debug=function(){this.log("DEBUG",arguments);return this};a.prototype.t=a.prototype.trace=
function(){this.log("TRACE",arguments);return this};r.exports=function(c){return new a(c)}},{}],3:[function(n,r,y){function a(a){var e=this;e._worker=null;e._taskList=[];e._requests=[];null==a&&(a=function(){});e.taskQueue=function(c,h,d){e._taskList.push({tid:c,fn:h,status:0,priority:d,step:function(d){k.t(d,"load:step");a(e,"load:step",{task:d})},end:function(){this.status=2;k.t(this.tid,"load:next","timer:task:stop");a(e,"load:next",{task:this.tid});e._taskList.splice(this.index,1);e.taskCheck();
null!=this._callback&&this._callback.call(this)},callback:function(d){this._callback=d}});k.t(c,"task added",d,"priority");e._taskList.sort(function(d,a){return d.priority>a.priority?1:a.priority>d.priority?-1:0});e.taskCheck()};e.taskCheck=function(){for(var c=0;c<e._taskList.length;c++){if(0===e._taskList[c].status){e._taskList[c].status=1;k.t(e._taskList[c].tid,"load:begin","timer:task:start");a(e,"load:begin",{task:e._taskList[c].tid});e._taskList[c].index=c;e._taskList[c].fn.call(e._taskList[c]);
return}if(1===e._taskList[c].status||2===e._taskList[c].status)return}k.t("load:end");a(e,"load:end")}}var k=n("./Logger")("TaskQueue.js");a.prototype.callback=function(a){};a.prototype.queue=function(a,e,c){return this.taskQueue(a,e,c)};r.exports=a},{"./Logger":2}],4:[function(n,r,y){r.exports={isIE:function(){return 0<window.navigator.userAgent.indexOf("Trident")},isNoU:function(a){return"undefined"===typeof a||null===a},isFunction:function(a){return"function"===typeof a},objectEquals:function(a,
k){if(null===a||void 0===a||null===k||void 0===k)return a===k;if(a.constructor!==k.constructor)return!1;if(a instanceof Function||a instanceof RegExp)return a===k;if(a===k||a.valueOf()===k.valueOf())return!0;if(Array.isArray(a)&&a.length!==k.length||a instanceof Date||!(a instanceof Object)||!(k instanceof Object))return!1;var f=Object.keys(a);return Object.keys(k).every(function(a){return-1!==f.indexOf(a)})&&f.every(function(e){return util.objectEquals(a[e],k[e])})},propertyFromPath:function(a,k){if("string"===
typeof k){k=k.replace(/\[(\w+)\]/g,".$1");k=k.replace(/^\./,"");for(var f=k.split("."),e=a,c=0;c<f.length;++c){var h=f[c];if("undefined"!==typeof e[h])e=e[h];else return}return e}},cloneObject:function k(f){if(null===f||"object"!==typeof f)return f;var e=f;try{var e=f.constructor(),c;for(c in f)f.hasOwnProperty(c)&&(e[c]=k(f[c]))}catch(h){}return e}}},{}],5:[function(n,r,y){function a(b){e(this,b.type,b)}function k(b,v,c){var e=!1;g.each(l,function(){if(this.element===b&&this.path===v&&this.handler===
c)return d.w("Handler already registered",b,v,c),e=!0,!1});e||(l.push({element:b,path:v,handler:c}),b.addEventListener(v,a,!1))}function f(b,d,c){var e=1,f=-1;g.each(l,function(a){this.element===b&&this.path===d&&this.handler===c&&(e--,f=a)});-1!==f&&l.splice(f,1);0===e&&b.removeEventListener(d,a)}function e(b,d,a){var c=g(b);g.each(l,function(){this.element===b&&this.path===d&&this.handler.call(c,a)})}function c(b){g.each(l,function(){this.element===b&&(d.t("Removing event handler",this.element,
this.path,this.handler),f(this.element,this.path,this.handler))})}function h(b){this._selection=[];"undefined"===typeof b&&(b=document.documentElement);if(b instanceof h)return b;if(b instanceof HTMLCollection||b instanceof NodeList){var a=this._selection=[];g.each(b,function(b,d){a.push(d)})}else if(Array.isArray(b))this._selection=b;else if(b===window||b instanceof HTMLElement||b instanceof Node)this._selection=[b];else if("string"===typeof b)this._selection=document.documentElement.querySelectorAll(b);
else if(null!==b)throw d.e("ZxQuery cannot wrap object of this type.",typeof b,b),Error("ZxQuery cannot wrap object of this type.");return this}var d=n("./Logger")("TaskQueue.js"),m=n("./Util.js"),l=[];h.prototype.length=function(){return this._selection.length};h.prototype.parent=function(b){return m.isNoU(b)?new h(this._selection[0].parentNode):new h(g.getClosest(this._selection[0],b))};h.prototype.children=function(b){return m.isNoU(b)?new h(this._selection[0].children):new h(this._selection[0].querySelectorAll(b))};
h.prototype.reverse=function(){this._selection=Array.prototype.slice.call(this._selection,0).reverse();return this};h.prototype.get=function(b){m.isNoU(b)&&(b=0);return this._selection[b]};h.prototype.eq=function(b){var d=this._selection,a=d[b];1<arguments.length&&(a=[],g.each(arguments,function(b,c){null!=d[c]&&a.push(d[c])}));return new h(a)};h.prototype.find=function(b){return new h(this._selection[0].querySelectorAll(b))};h.prototype.each=function(b){g.each(this._selection,b);return this};h.prototype.attr=
function(b,d){var a=this;if("object"===typeof b)g.each(b,function(b,d){a.each(function(a,v){v.setAttribute(b,d)})});else{if("undefined"==typeof d)return this._selection[0].getAttribute(b);null===d?this._selection[0].removeAttribute(b):this.each(function(a,c){this.get().setAttribute(b,d)})}return this};h.prototype.trigger=function(b,d){var a=void 0;window.CustomEvent?a=new CustomEvent(b,{detail:d}):(a=document.createEvent("CustomEvent"),a.initCustomEvent(b,!0,!0,d));this.each(function(b,d){d.dispatchEvent(a)});
return this};h.prototype.one=function(b,d){var a=!1;this.on(b,function(c,e){a||(a=!0,g(this).off(b,d),d.call(this,c,e))});return this};h.prototype.on=function(b,d){var a=b.match(/\S+/g)||[];this.each(function(b,c){g.each(a,function(b,a){k(c,a,d)})});return this};h.prototype.off=function(b,d){var a=b.match(/\S+/g)||[];this.each(function(b,c){g.each(a,function(b,a){f(c,a,d)})});return this};h.prototype.reset=function(){this.each(function(b,d){c(d)});return this};h.prototype.isEmpty=function(){return 0===
this._selection[0].innerHTML.replace(/\s/g,"").length};h.prototype.position=function(){return null!=this._selection[0]?g.getPosition(this._selection[0]):{x:-1,y:-1,visible:!1}};h.prototype.css=function(b,d){var a=this;if("object"===typeof b)g.each(b,function(b,d){a.each(function(a,c){c.style[b]=d})});else{if(m.isNoU(d))return this._selection[0].style[b];a.each(function(a,c){c.style[b]=d})}return this};h.prototype.addClass=function(b){var d=b.match(/\S+/g)||[];g.each(this._selection,function(a,c){c.classList?
g.each(d,function(b,d){c.classList.add(d)}):c.className+=" "+b});return this};h.prototype.hasClass=function(b){return g.hasClass(this._selection[0],b)};h.prototype.removeClass=function(b){var d=b.match(/\S+/g)||[];g.each(this._selection,function(a,c){c.classList?g.each(d,function(b,d){c.classList.remove(d)}):c.className=c.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")});return this};h.prototype.prev=function(){return new h(this._selection[0].previousElementSibling)};
h.prototype.next=function(){return new h(this._selection[0].nextElementSibling)};h.prototype.html=function(b){if(m.isNoU(b))return this._selection[0].innerHTML;this.each(function(d,a){a.innerHTML=b});return this};h.prototype.checked=function(b){if(m.isNoU(b)){var d=this._selection[0].checked;return null!=d&&"false"!=d&&(d||"checked"==d)}this.each(function(d,a){a.checked=b});return this};h.prototype.value=function(b){if(m.isNoU(b))return this._selection[0].value;this.each(function(d,a){a.value=b});
return this};h.prototype.append=function(b){"string"===typeof b?this._selection[0].innerHTML+=b:this._selection[0].appendChild(b);return this};h.prototype.insert=function(b,d){var a=this.children().get(b);null!==a?this._selection[0].insertBefore(d,a):this._selection[0].appendChild(d);return this};h.prototype.prepend=function(b){"string"===typeof b?this._selection[0].innerHTML=b+this._selection[0].innerHTML:this._selection[0].insertBefore(b,this._selection[0].firstElementChild);return this};h.prototype.detach=
function(){var b=this._selection[0],a=b.parentNode;null!=a&&(b.__zuix_oldParent=a,b.__zuix_oldIndex=Array.prototype.indexOf.call(a.children,b),a.removeChild(b),d.t("Detached from parent",a,b));return this};h.prototype.attach=function(){var b=this._selection[0];null==b.parentNode&&null!=b.__zuix_oldParent&&(g(b.__zuix_oldParent).insert(b.__zuix_oldIndex,b),b.__zuix_oldParent=null,delete b.__zuix_oldParent,delete b.__zuix_oldIndex);return this};h.prototype.display=function(b){if(m.isNoU(b))return this._selection[0].style.display;
g.each(this._selection,function(d,a){a.style.display=b});return this};h.prototype.visibility=function(b){if(m.isNoU(b))return this._selection[0].style.visibility;g.each(this._selection,function(d,a){a.style.visibility=b});return this};h.prototype.show=function(b){return this.display(null==b?"":b)};h.prototype.hide=function(){return this.display("none")};var g=function(b){return new h(b)};g.find=function(b){return g().find(b)};g.each=function(b,d){var a=null==b?0:Object.keys(b).length;if(0<a){var c=
0,e;for(e in b)if(b.hasOwnProperty(e)){var f=b[e];f instanceof Element&&(f=g(f));if(!1===d.call(f,e,b[e]))break;c++;if(c>=a)break}}return this};g.ajax=function(b){var d=void 0,d=m.isNoU(b)||m.isNoU(b.url)?b:b.url,a=new XMLHttpRequest;a.open("GET",d);a.onload=function(){200===a.status?m.isFunction(b.success)&&b.success(a.responseText):m.isFunction(b.error)&&b.error(a);m.isFunction(b.then)&&b.then(a)};a.send();return this};g.hasClass=function(b,a){var d=a.match(/\S+/g)||[],c=!1;g.each(d,function(a,
d){if(c=b.classList?b.classList.contains(d):(new RegExp("(^| )"+d+"( |$)","gi")).test(b.className))return!1});return c};g.classExists=function(b){b=b.match(/\S+/g)||[];var a=!1;g.each(b,function(b,d){var c=document.styleSheets;if(null!=c)for(var g=0;g<c.length;g++)try{var e=c[g].rules||c[g].cssRules;if(null!=e)for(var f=0;f<e.length;f++)if(e[f].selectorText===d){a=!0;break}}catch(l){if("SecurityError"!==l.name&&"InvalidAccessError"!==l.name)throw l;}});return a};g.wrapElement=function(b,a){var d=
document.createElement(b);"string"===typeof a?d.innerHTML=a:d.appendChild(a);return d};g.wrapCss=function(b,a){var c=/((.*){([^{}]|((.*){([^}]+)[}]))*})/g,e="",f=void 0;a=a.replace(/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/g,"");var l={isMediaQuery:void 0,classes:void 0};do{if((f=c.exec(a))&&1<f.length){var h=f[2];null!=h&&0<h.length?(l.classes=h.split(","),l.isMediaQuery=!1,g.each(l.classes,function(a){return function(d,c){"."===c.replace(" ","")?e+="\n"+b+" ":"@"===c.trim()[0]?(e+=c+" ",c.trim().toLowerCase().startsWith("@media")&&
(a.isMediaQuery=!0)):e+="\n"+b+"\n"+c+" ";d<a.classes.length-1&&(e+=", ")}}(l)),l.isMediaQuery?(h=g.wrapCss(b,f[1].substring(f[2].length).replace(/^{([^\0]*?)}$/,"$1")),e+="{\n  "+h+"\n}"):e+=f[1].substring(f[2].length)+"\n"):d.w("z$.wrapCss was unable to parse rule.",h,f)}l={isMediaQuery:l.isMediaQuery,classes:l.classes}}while(f);""!==e&&(a=e);return a};g.appendCss=function(b,a,d){var c=document.head||document.getElementsByTagName("head")[0],e=null;m.isNoU(a)?(a=document.getElementById(d),null!=
a&&c.removeChild(a)):c.removeChild(a);"string"===typeof b?(e=document.createElement("style"),e.type="text/css",e.id=d,e.styleSheet?e.styleSheet.cssText=b:e.appendChild(document.createTextNode(b))):b instanceof Element&&(e=b);m.isNoU(e)||c.appendChild(e);return e};g.replaceCssVars=function(b,a){for(var d=new RegExp(/\B\$var\[(.*[^\[\]])]/g),c="",e=0,g=0,f=void 0;f=d.exec(b);){var l=f[0];if(1<f.length){var h=f[1],m=a;if(0<h.indexOf(".")){for(var h=h.split("."),k=0;k<h.length-1&&(m=m[h[k]],"undefined"!==
typeof m);k++);"undefined"!==typeof m&&(l=m[h[h.length-1]],e++)}else"undefined"!==typeof m[h]&&(l=m[h],e++)}c+=b.substr(g,f.index-g)+l;g=f.index+f[0].length}0<e&&(b=c+=b.substr(g));return b};g.replaceBraces=function(b,a){for(var d=new RegExp(/[^{}]+(?=})/g),c="",e=0,g=0,f=void 0;f=d.exec(b);)if("string"===typeof f[0]&&(0===f[0].trim().length||0<=f[0].indexOf("\n")))f=b.substr(g,f.index-g)+f[0]+"}",c+=f,g+=f.length;else{var l="{"+f[0]+"}";if("function"===typeof a){var h=a(f[0]);m.isNoU(h)||(l=h,e++)}c+=
b.substr(g,f.index-g-1)+l;g=f.index+f[0].length+1}return 0<e?c+=b.substr(g):null};g.getClosest=function(b,a){for(;b&&b!==document;b=b.parentNode)if(b.matches(a))return b;return null};g.getPosition=function(b,a){for(var d=0,c=0,e=b.getBoundingClientRect(),f=b;f;){if("body"===f.tagName.toLowerCase())var l=f.scrollTop||document.documentElement.scrollTop,d=d+(f.offsetLeft-(f.scrollLeft||document.documentElement.scrollLeft)+f.clientLeft),c=c+(f.offsetTop-l+f.clientTop);else d+=f.offsetLeft-f.scrollLeft+
f.clientLeft,c+=f.offsetTop-f.scrollTop+f.clientTop;f=f.offsetParent}d={x:d,y:c,rect:e};c=b.offsetParent;if(null!=c){var h;c===document.body?(f=document.body.offsetWidth,e=document.body.offsetHeight,l=document.documentElement.clientWidth||f,h=document.documentElement.clientHeight||e):(l=c.offsetWidth,h=c.offsetHeight);e=!1;if(null===b.offsetParent)return!1;null==a&&(a=0);for(var e=l,f=h,m=b.getBoundingClientRect(),k=b.offsetParent;null!==k&&k!==c;)var n=k.getBoundingClientRect(),m={left:m.left+n.left,
top:m.top+n.top,right:m.right+n.left,bottom:m.bottom+n.top,width:m.width,height:m.height},k=k.offsetParent;e=!(m.left>e-a||m.right<0+a||m.top>f-a||m.bottom<0+a);d.frame={dx:(m.left+m.width/2-0)/l,dy:(m.top+m.height/2-0)/h};d.visible=e;b=g(b);!e&&b.hasClass("--ui--visible")?(b.removeClass("--ui--visible"),d.event="exit"):e?e&&(b.hasClass("--ui--visible")?d.event="scroll":(d.event="enter",b.addClass("--ui--visible"))):d.event="off-scroll"}return d};g.ZxQuery=h;Element.prototype.matches||(Element.prototype.matches=
Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(b){b=(this.document||this.ownerDocument).querySelectorAll(b);for(var a=b.length;0<=--a&&b.item(a)!==this;);return-1<a});(function(){function b(b,a){a=a||{bubbles:!1,cancelable:!1,detail:void 0};var d=document.createEvent("CustomEvent");d.initCustomEvent(b,a.bubbles,a.cancelable,a.detail);return d}if("function"===
typeof window.CustomEvent)return!1;b.prototype=window.Event.prototype;window.CustomEvent=b})();String.prototype.hashCode=function(){var b=0;if(0===this.length)return b;for(var a=0;a<this.length;a++)var d=this.charCodeAt(a),b=(b<<5)-b+d,b=b|0;return b};String.prototype.startsWith||(String.prototype.startsWith=function(b,a){return this.substr(!a||0>a?0:+a,b.length)===b});r.exports=g},{"./Logger":2,"./Util.js":4}],6:[function(n,r,y){n=n("./zuix/Zuix.js");"object"===typeof r&&r.exports?r.exports=n.call(this):
this.zuix=n.call(this)},{"./zuix/Zuix.js":12}],7:[function(n,r,y){r.exports=function(a){return null}},{}],8:[function(n,r,y){function a(a,c,e){h=a;this._options=null;this.contextId=null==c||null==c.contextId?null:c.contextId;this.componentId=null;this.trigger=function(a,b,d){"function"===typeof e&&e(a,b,d)};this.behavior=this._controller=this._style=this._css=this._view=this._model=this._container=null;this._eventMap=[];this._behaviorMap=[];this._c=null;this.options(c);return this}var k=n("../helpers/Logger")("ComponentContext.js"),
f=n("./OptionAttributes")(),e=n("../helpers/ZxQuery"),c=n("../helpers/Util"),h=null;a.prototype.container=function(a){if(null==a)return this._container;a instanceof e.ZxQuery&&(a=a.get());this._container=a;return this};a.prototype.view=function(a){if("undefined"===typeof a)return this._view;a instanceof e.ZxQuery&&(a=a.get());k.t(this.componentId,"view:attach","timer:view:start");if("string"===typeof a){a={content:a};this.trigger(this,"html:parse",a);a=a.content;var c=e.wrapElement("div",a);null!=
c.firstElementChild&&(null!=c.firstElementChild.getAttribute(f.dataUiView)?1===c.children.length&&(a=c.firstElementChild.innerHTML):a=c.innerHTML);null!=this._container?(this._view=this._container,this._view.innerHTML+=a):null!=this._view?this._view.innerHTML=a:this._view=c;e(this._view).find("script").each(function(a,d){"true"!==this.attr("zuix-loaded")&&(this.attr("zuix-loaded","true"),eval.call(window,d.innerHTML))});this.trigger(this,"view:process",e(this._view))}else a instanceof e.ZxQuery&&
(a=a.get()),null!=this._container?(this._view=e.wrapElement("div",a.outerHTML).firstElementChild,this._view.removeAttribute(f.dataUiView),this._container.appendChild(this._view),this._view=this._container):this._view=a;a=e(this._view);!1===this._options.css?a.addClass("zuix-css-ignore"):a.removeClass("zuix-css-ignore");a.find("["+f.dataUiLoad+"]").each(function(a,d){this.attr(f.dataUiLoad+"-",this.attr(f.dataUiLoad));this.attr(f.dataUiLoad,null)});this.modelToView();k.t(this.componentId,"view:attach",
"timer:view:stop");return this};a.prototype.style=function(a){if("undefined"===typeof a)return this._style;k.t(this.componentId,"view:style","timer:view:start");null==a||a instanceof Element?(this._css=a instanceof Element?a.innerText:a,this._style=e.appendCss(a,this._style,this.componentId)):"string"===typeof a&&(this._css=a,a=e.wrapCss("["+f.dataUiComponent+'="'+this.componentId+'"]:not(.zuix-css-ignore)',a),a={content:a},this.trigger(this,"css:parse",a),a=a.content,this._style=e.appendCss(a,this._style,
this.componentId));k.t(this.componentId,"view:style","timer:view:stop");return this};a.prototype.model=function(a){if("undefined"===typeof a)return this._model;this._model=a;this.modelToView();null!=this._c&&c.isFunction(this._c.update)&&this._c.update.call(this._c);return this};a.prototype.controller=function(a){if("undefined"===typeof a)return this._controller;this._controller=a;return this};a.prototype.options=function(a){if(null==a)return this._options;var c=this._options=this._options||{};e.each(a,
function(a,d){c[a]=d});null!=c.componentId&&(this.componentId=c.componentId);this.container(c.container);this.view(c.view);"undefined"!==typeof c.css&&this.style(c.css);this.controller(c.controller);this.model(c.model);return this};a.prototype.on=function(a,c){this._c.on(a,c);return this};a.prototype.loadCss=function(a,f){var l=this;c.isNoU(a)&&(a={});c.isNoU(a.caching)||(f=a.caching);var g=l.componentId+".css";c.isNoU(a.path)||(g=a.path);f||(g+="?"+(new Date).getTime());e.ajax({url:h.getResourcePath(g),
success:function(b){l.style(b);c.isFunction(a.success)&&a.success.call(l,b)},error:function(b){k.e(b,l);c.isFunction(a.error)&&a.error.call(l,b)},then:function(){c.isFunction(a.then)&&a.then.call(l)}});return this};a.prototype.loadHtml=function(a,m){var l=this,g=l.componentId;c.isNoU(a)&&(a={});c.isNoU(a.caching)||(m=a.caching);c.isNoU(a.path)||(g=a.path);var b=e().find("["+f.dataUiView+'="'+g+'"]:not(['+f.dataUiComponent+'*=""])');0<b.length()?(g=b.get(0),l.view()===g||null!=l.container()&&l.container().contains(g)?
l.view(g):l.view(g.outerHTML),c.isFunction(a.success)&&a.success.call(l,g.outerHTML),c.isFunction(a.then)&&a.then.call(l)):(b=c.isNoU(a.cext)?".html":a.cext,g==l.componentId&&(g+=b+(m?"":"?"+(new Date).getTime())),e.ajax({url:h.getResourcePath(g),success:function(b){l.view(b);c.isFunction(a.success)&&a.success.call(l,b)},error:function(b){k.e(b,l);c.isFunction(a.error)&&a.error.call(l,b)},then:function(){c.isFunction(a.then)&&a.then.call(l)}}));return this};a.prototype.viewToModel=function(){k.t(this.componentId,
"view:model","timer:vm:start");var a=this;this._model={};e(this._view).find("["+f.dataUiField+"]").each(function(e,h){if(0<this.parent("pre,code").length())return!0;var g=this.attr(f.dataUiField),b=!c.isNoU(h.innerHTML)&&c.isIE()?h.cloneNode(!0):h;if(0<g.indexOf(".")){for(var g=g.split("."),k=a._model,n=0;n<g.length-1;n++)"undefined"===typeof k[g[n]]&&(k[g[n]]={}),k=k[g[n]];k[g[g.length-1]]=b}else a._model[g]=b});k.t(this.componentId,"view:model","timer:vm:stop");return this};a.prototype.modelToView=
function(){k.t(this.componentId,"model:view","timer:mv:start");if(null!=this._view&&null!=this._model){var a=this;e(this._view).find("["+f.dataUiField+"]").each(function(h,l){if(0<this.parent("pre,code").length())return!0;var g=this.attr(f.dataBindTo);null==g&&(g=this.attr(f.dataUiField));if("function"===typeof a._model)a._model.call(e(a._view),this,g);else{var b=c.propertyFromPath(a._model,g);if("function"===typeof b)b.call(e(a._view),this,g);else if(null!=b)switch(l.tagName.toLowerCase()){case "img":l.src=
c.isNoU(b.src)?c.isNoU(b.innerHTML)?b:b.innerHTML:b.src;b.alt&&(l.alt=b.alt);break;case "a":l.href=c.isNoU(b.href)?c.isNoU(b.innerHTML)?b:b.innerHTML:b.getAttribute("href");b.title&&(l.title=b.title);c.isNoU(b.href)||c.isNoU(b.innerHTML)||""===b.innerHTML.trim()||(l.innerHTML=b.innerHTML);break;case "input":l.value=c.isNoU(b.value)?c.isNoU(b.innerHTML)?b:b.innerHTML:b.value;break;default:if(l.innerHTML=c.isNoU(b.innerHTML)?b:b.innerHTML,null!=b.attributes)for(g=0;g<b.attributes.length;g++){var k=
b.attributes[g];k.specified&&k.name!==f.dataUiField&&("+"===k.value[0]&&l.hasAttribute(k.name)&&(k.value=l.getAttribute(k.name)+" "+k.value.substring(1)),l.setAttribute(k.name,k.value))}}}})}k.t(this.componentId,"model:view","timer:mv:stop");return this};r.exports=a},{"../helpers/Logger":2,"../helpers/Util":4,"../helpers/ZxQuery":5,"./OptionAttributes":11}],9:[function(n,r,y){function a(){}function k(a,b){null!=a&&(H=!a);null!=b&&(J=b);return!C&&!H}function f(a){null==a&&(a=document);E.indexOf(a)||
E.push(a)}function e(a){for(var b=0;b<A.length;b++){var c=A[b];if(c.element===a)return c.waiting}return null}function c(a){null==a&&0<E.length&&(a=E.unshift());a instanceof u.ZxQuery&&(a=a.get());var b=e(a),b=u(a).find("["+t.dataUiLoad+"]:not(["+t.dataUiLoaded+"=true]),["+t.dataUiInclude+"]:not(["+t.dataUiLoaded+"=true])"),b=Array.prototype.slice.call(b._selection);A.push({element:a,waiting:b});a=[];for(var c=0;c<b.length;c++){var d=b[c],z=parseInt(d.getAttribute(t.dataUiPriority));isNaN(z)&&(z=0);
for(var f=0,F=d.parentNode,h=!1;null!=F&&F!==document;){f++;if(null!=F.getAttribute(t.dataUiView)){h=!0;break}F=F.parentNode}h||(F=new B,F.element=d,F.priority=z+1E3*f,a.push(F))}for(c=b=0;c<a.length;c++){d=!1;for(z=0;z<x.length;z++)if(a[c].element===x[z].element){d=!0;break}d||(d=a[c].element,z=d.getAttribute(t.dataUiOptions),g(d,z),x.push(a[c]),b++)}q.t("componentize:count",x.length,b);(0===b||0===E.length&&0===x.length)&&D.trigger(this,"componentize:end")}function h(){x.sort(function(a,b){return a.priority-
b.priority});for(var a=null,b=0<x.length?x.shift():null;null!=b&&null!=b.element;){var c=O(b.element);k()&&c?(b.lazy=!0,b.visible=u.getPosition(b.element,J).visible):(b.lazy=!1,b.visible=!0);if(null!=b&&null!=b.element&&b.visible){a={item:b,cancelable:b.lazy};break}if(0<x.length)b=x.shift();else break}return a}function d(a){c(a);a=h();null!=a&&K.append([a])}function m(a){var b=u(a);if("true"===b.attr(t.dataUiLoaded)||0<b.parent("pre,code").length())return!1;b.attr(t.dataUiLoaded,"true");var c=b.attr(t.dataUiOptions);
p.isNoU(c)?c={}:(c=p.propertyFromPath(window,c),c=p.cloneObject(c)||{});var e=b.attr(t.dataUiContext);if(!p.isNoU(e)){var z=D.context(e);null!==z&&(c=z.options());c.contextId=e}p.isNoU(c.view)&&!b.isEmpty()?(c.view=a,c.viewDeferred=!0):p.isNoU(c.view)&&p.isNoU(c.container)&&b.isEmpty()&&(c.container=a);e=b.attr(t.dataUiLoad);if(p.isNoU(e))if(e=b.attr(t.dataUiInclude),null!=e)e=l(e),b.attr(t.dataUiInclude,e),b.attr(t.dataUiComponent,e),p.isNoU(c.controller)&&(c.controller=function(){});else return!1;
else e=l(e),b.attr(t.dataUiLoad,e);z=b.attr(t.dataBindModel);!p.isNoU(z)&&0<z.length&&(c.model=p.propertyFromPath(window,z));b=b.attr(t.dataUiPriority);p.isNoU(b)||(c.priority=parseInt(b));u(a).one("component:ready",function(){f(a);d(a)});D.load(e,c);return!0}function l(a){var b=D.store("config"),b=null!=b&&null!=b.libraryPath?b.libraryPath:"https://genielabs.github.io/zkit/lib";a.startsWith("@lib/")&&(a=b+a.substring(4));return a}function g(a,b){null==a||p.isNoU(b)||("string"===typeof b&&(b=p.propertyFromPath(window,
b)),p.isNoU(b.lazyLoad)||a.setAttribute(t.dataUiLazyload,b.lazyLoad.toString().toLowerCase()),p.isNoU(b.contextId)||a.setAttribute(t.dataUiContext,b.contextId.toString().toLowerCase()),p.isNoU(b.componentId)||a.setAttribute(t.dataUiLoad,b.componentId.toString().toLowerCase()))}function b(a){for(var b=0;b<M.length;b++){var c=M[b];if(c.element===a)return c}return null}function v(a){a={element:a};M.push(a);return a}function N(a){for(var b=0;b<w.length;b++){var c=w[b];if(c.element===a)return c}return null}
function L(a){a={element:a};w.push(a);return a}function O(a){if("false"===a.getAttribute(t.dataUiLazyload))return!1;var c=b(a);if(null==c){var e=u.getClosest(a.parentNode,"["+t.dataUiLazyload+"=scroll],["+t.dataUiLazyload+"=true]");if(null!=e)return c=v(a),a=N(e),null==a&&(a=L(e),"scroll"===e.getAttribute(t.dataUiLazyload)&&function(a,b){var c=(new Date).getTime();u(b).on("scroll",function(){var a=(new Date).getTime();100<a-c&&(c=a,d(b))})}(this,e)),!0;if("true"===a.getAttribute(t.dataUiLazyload))return c=
v(a),!0}else return!0;return!1}var t=n("./OptionAttributes")();a.prototype.componentize=function(a,b){D.trigger(this,"componentize:begin");if(null!=b){var c=e(a);null==c?A.push({element:a,waiting:[b]}):c.push(b)}else f(a);d(a);return this};a.prototype.applyOptions=function(a,b){g(a,b);return this};a.prototype.resolvePath=function(a){return l(a)};a.prototype.willLoadMore=function(){return 0<x.length||0<E.length};a.prototype.lazyLoad=function(a,b){return k(a,b)};a.prototype.dequeue=function(a){for(var b=
0;b<x.length;b++)if(x[b].element===a){x.splice(b,1);break}};a.prototype.setHost=function(a){D=a;return this};r.exports=function(){return new a};var q=n("../helpers/Logger")("ComponentContext.js"),p=n("../helpers/Util"),u=n("../helpers/ZxQuery"),E=[],x=[],M=[],w=[],B=function(){return{element:null,priority:0,visible:!0,lazy:!1}},K=n("./../helpers/AsynChain")({doWork:function(a,b){u(a.element).one("component:ready",function(){b()});return m(a.element)},willBreak:function(){return!1},status:function(a){switch(a){case "done":d()}}}),
H=!1,J=1,D=null,C=!1;navigator&&navigator.userAgent&&(C=(new RegExp(/bot|googlebot|crawler|spider|robot|crawling/i)).test(navigator.userAgent));C&&q.d(navigator.userAgent,"is a bot, ignoring `lazy-loading` option.");var A=[]},{"../helpers/Logger":2,"../helpers/Util":4,"../helpers/ZxQuery":5,"./../helpers/AsynChain":1,"./OptionAttributes":11}],10:[function(n,r,y){function a(a){var e=this;this._view=null;this.context=a;this._fieldCache=[];this.destroy=this.update=this.create=this.init=null;this._childNodes=
[];this.saveView=function(){this.restoreView();this.view().children().each(function(a,c){e._childNodes.push(c)})};this.restoreView=function(){0<this._childNodes.length&&(e.view().html(""),k.each(e._childNodes,function(a,c){e.view().append(c)}),this._childNodes.length=0)};this.on=function(a,c){this.addEvent(a,c);return this};this.mapEvent=function(a,c,b,d){null!=c&&(c.off(b,this.eventRouter),a[b]=d,c.on(b,this.eventRouter))};this.eventRouter=function(c){"function"===typeof a._behaviorMap[c.type]&&
a._behaviorMap[c.type].call(e.view(),c,c.detail);"function"===typeof a._eventMap[c.type]&&a._eventMap[c.type].call(e.view(),c,c.detail)};var c=a.options(),h=null;if(null!=c.on)for(var d in c.on)c.on.hasOwnProperty(d)&&(h=c.on[d],e.addEvent(d,h));if(null!=c.behavior)for(var m in c.behavior)c.behavior.hasOwnProperty(m)&&(h=c.behavior[m],e.addBehavior(m,h));a.controller().call(this,this);return this}var k=n("../helpers/ZxQuery");a.prototype.addEvent=function(a,e){this.mapEvent(this.context._eventMap,
this.view(),a,e);return this};a.prototype.addBehavior=function(a,e){this.mapEvent(this.context._behaviorMap,this.view(),a,e);return this};a.prototype.field=function(a){return null};a.prototype.clearCache=function(){this._fieldCache.length=0};a.prototype.view=function(a){if(null!=this.context.view()||this._view!==this.context.view())this.clearCache(),this._view=k(this.context.view());if(null!=a)return this._view.find(a);if(null!==this._view)return this._view;throw Error("Not attached to a view yet.");
};a.prototype.model=function(a){if(null==a)return this.context.model();this.context.model(a);return this};a.prototype.options=function(){return this.context.options()};a.prototype.trigger=function(a,e,c){null==this.context._eventMap[a]&&!0!==c&&this.addEvent(a,null);!0===c?(c=this.context.container(),null==c&&(c=this.context.view()),null!=c&&k(c).trigger(a,e),this.context.trigger(this.context,a,e)):this.view().trigger(a,e);return this};a.prototype.expose=function(a,e){if("object"===typeof a){var c=
this;k.each(a,function(a,d){c.context[a]=d})}else this.context[a]=e;return this};a.prototype.loadCss=function(a){this.context.loadCss(a);return this};a.prototype.loadHtml=function(a){this.saveView();this.context.loadHtml(a);return this};a.prototype.log={};a.prototype.for=function(a){return this};r.exports=a},{"../helpers/ZxQuery":5}],11:[function(n,r,y){var a=Object.freeze({dataBindModel:"data-bind-model",dataBindTo:"data-bind-to",dataUiComponent:"data-ui-component",dataUiContext:"data-ui-context",
dataUiField:"data-ui-field",dataUiInclude:"data-ui-include",dataUiLazyload:"data-ui-lazyload",dataUiLoad:"data-ui-load",dataUiLoaded:"data-ui-loaded",dataUiOptions:"data-ui-options",dataUiPriority:"data-ui-priority",dataUiView:"data-ui-view",zuixLoaded:"zuix-loaded"});r.exports=function(k){return a}},{}],12:[function(n,r,y){function a(){w.setHost(this);this._store=[];this._fieldCache=[];return this}function k(a){"function"!==typeof a["for"]&&(a["for"]=function(b){return J[b]=a});return a}function f(a,
b,c){p.isNoU(c)&&(c=this);null==c._fieldCache&&(c._fieldCache={});var d=null;if("undefined"===typeof c._fieldCache[a]){if(d=u(b).find("["+B.dataUiField+'="'+a+'"]'),null!=d&&0<d.length()&&(c._fieldCache[a]=d,1===d.length()&&p.isNoU(d.field))){var e=this;d.field=function(a){return e.field(a,d,d)}}}else d=c._fieldCache[a];return d}function e(a){var b=zuix.store("config");a=w.resolvePath(a);!a.startsWith("//")&&0>a.indexOf("://")&&(a=(null!=b&&null!=b.resourcePath?b.resourcePath:"")+a);return a}function c(a,
c){var d=b(a.componentId);null!==d&&null==c.controller&&null==a.controller()&&(a.controller(d.controller),q.t(a.componentId+":js","component:cached:js"));if(p.isNoU(c.view)){if(null!==d&&(null!=d.view&&(a.view(d.view),q.t(a.componentId+":html","component:cached:html")),!1!==c.css&&(c.css=!1,d.css_applied||(d.css_applied=!0,a.style(d.css),q.t(a.componentId+":css","component:cached:css")))),p.isNoU(a.view()))return Q("resource-loader").queue(a.componentId+":html",function(){A[a.componentId]=this;a.loadHtml({cext:c.cext,
caching:I,success:function(b){null==d&&(d=N(a));d.view=b;delete d.controller;!1!==c.css?(A[a.componentId].step(a.componentId+":css"),a.loadCss({caching:I,success:function(a){d.css=a},error:function(b){q.e(b,a)},then:function(){v(a,A[a.componentId])}})):v(a,A[a.componentId])},error:function(b){q.e(b,a);p.isFunction(c.error)&&a.error.call(a,b)}})},c.priority),a}else a.view(c.view);null==a.controller()?Q("resource-loader").queue(a.componentId+":js",function(){A[a.componentId]=this;v(a,A[a.componentId])},
K.length):v(a);return a}function h(a){if(a instanceof Element){var b=a;a=zuix.context(b);w.dequeue(b)}p.isNoU(a)||(p.isNoU(a._c)||(p.isNoU(a._c.view())||(a._c.view().attr(B.dataUiComponent,null),a._c.view().reset(),p.isNoU(a._c._fieldCache)||u.each(a._c._fieldCache,function(a,b){b.reset()}),a._c.view().detach()),p.isFunction(a._c.destroy)&&a._c.destroy.call(a)),a=a.container(),null!=a&&null!=a.parentNode&&a.parentNode.removeChild(a))}function d(a){a=new x(zuix,a,l);K.push(a);return a}function m(a,
b){var c=null;if(a instanceof u.ZxQuery)a=a.get();else if("string"===typeof a){var d=u.find("["+B.dataUiContext+'="'+a+'"]');0<d.length()&&(a=d.get())}u.each(K,function(b,d){if(a instanceof Element&&(d.view()===a||d.container()===a)||p.objectEquals(d.contextId,a))return c=d,!1});if("function"===typeof b&&(a instanceof Element||a instanceof u.ZxQuery))if(null==c)u(a).one("component:ready",function(){c=zuix.context(this);b.call(c,c)});else b.call(c,c);return c}function l(a,b,c){p.isFunction(H[b])&&
H[b].call(a,c)}function g(a){null!=a&&(I=a);return I}function b(a){var b=null;u.each(G,function(c,d){if(p.objectEquals(d.componentId,a))return b=d,!1});return b}function v(a,b){if("undefined"===typeof a.options().controller&&null===a.controller())if(q.d(a.componentId,"controller:load"),p.isNoU(b)||b.step(a.componentId+":js"),p.isFunction(J[a.componentId]))a.controller(J[a.componentId]),L(a,b);else{var c=function(b){var c=a.componentId+".js"+(I?"":"?"+(new Date).getTime());u.ajax({url:e(c),success:function(b){try{var c=
b.indexOf("function"),d=b.indexOf(".load");1<d&&d<c&&(b=b.substring(0,d-4));var e=b.indexOf(".controller");1<e&&e<c&&(b=b.substring(e+11));var f=b.indexOf("//<--controller");0<f&&(b=b.substring(0,f));b+='\n//# sourceURL="'+a.componentId+'.js"\n';a.controller(t(b))}catch(g){q.e(Error(),g,b,a),p.isFunction(a.error)&&a.error.call(a,g)}},error:function(b){q.e(b,Error(),a);p.isFunction(a.error)&&a.error.call(a,b)},then:function(){L(a,b)}})};p.isNoU(b)?Q("resource-loader").queue(a.componentId+":js",function(){c(A[a.componentId]=
this)},a.options().priority):c(b)}else L(a,b)}function N(a){var b=a.view().innerHTML,b=u.wrapElement("div",b),b={componentId:a.componentId,view:b.innerHTML,css:a._css,controller:a.controller()};G.push(b);q.t(a.componentId,"bundle:added");return b}function L(a,c){A[a.componentId]=null;if(p.isNoU(a.view()))q.e(a.componentId,"component:view:undefined");else{var d=b(a.componentId);a.options().viewDeferred?q.w(a.componentId,"component:deferred:load"):null===d?d=N(a):null==d.controller&&(d.controller=a.controller());
null!=c&&c.callback(function(){q.d(a.componentId,"controller:create:deferred");O(a._c)});u(a.view()).attr(B.dataUiContext,a.contextId);q.d(a.componentId,"component:initializing");if(p.isFunction(a.controller())){var e=a._c=new M(a);e.log=n("../helpers/Logger")(a.contextId);"function"===typeof e.init&&e.init();if(!p.isNoU(e.view()))if(null==e.view().attr(B.dataUiComponent)&&e.view().attr(B.dataUiComponent,a.componentId),p.isNoU(a.model())&&!p.isNoU(a.view())&&a.viewToModel(),e.trigger("view:apply"),
a.options().viewDeferred){a.options().viewDeferred=!1;e.saveView();null===d&&(d={componentId:a.componentId,controller:a.controller()},G.push(d),q.t(a.componentId,"bundle:added"),q.d(a.componentId,"component:deferred:load"));var f=-1;!1!==a.options().css&&(null==d.css?(-1===f&&(f=0),f++,a.loadCss({caching:I,success:function(b){null==d.css&&(d.css=b);q.d(a.componentId,"component:deferred:css",f)},then:function(){0===--f&&null!=c&&c.end()}})):a.style(d.css));!1!==a.options().html&&(null==d.view?(-1===
f&&(f=0),f++,a.loadHtml({cext:a.options().cext,caching:I,success:function(b){null==d.view&&(d.view=b);q.d(a.componentId,"component:deferred:html",f)},error:function(b){q.e(b,a);p.isFunction(a.options().error)&&a.options().error.call(a,b)},then:function(){0===--f&&null!=c&&c.end()}})):a.view(d.view));-1===f&&null!=c&&c.end()}else null!=c&&c.end();null==c&&(q.d(a.componentId,"controller:create"),O(e))}else q.w(a.componentId,"component:controller:undefined")}}function O(a){q.t(a.context.componentId,
"controller:init","timer:init:start");a.view().find("["+B.dataUiLoad+"-]").each(function(a,b){this.attr(B.dataUiLoad,this.attr(B.dataUiLoad+"-"));this.attr(B.dataUiLoad+"-",null)});a.field=function(b){b=f(b,a.view(),a);b.on=function(b,c,d,e){if("string"===typeof c){var f=c;c=function(){a.trigger(f,d,e)}}return u.ZxQuery.prototype.on.call(this,b,c)};return b};p.isFunction(a.create)&&a.create();a.trigger("view:create");p.isFunction(a.context.ready)&&a.context.ready.call(a.context,a.context);a.trigger("component:ready",
a.view(),!0);q.t(a.context.componentId,"controller:init","timer:init:stop");q.i(a.context.componentId,"component:loaded",a.context.contextId);if(null!=C[a.context.componentId]){var b=C[a.context.componentId];C[a.context.componentId]=null;for(var d=void 0;null!=b&&null!=(d=b.shift());)c(d.c,d.o)}}function t(a){var b=function(a){};if("string"===typeof a)try{b=eval.call(this,a)}catch(c){q.e(this,c,a)}return b}var q=n("../helpers/Logger")("Zuix.js"),p=n("../helpers/Util"),u=n("../helpers/ZxQuery"),E=
n("../helpers/TaskQueue"),x=n("./ComponentContext"),M=n("./ContextController"),w=n("./Componentizer")(),B=n("./OptionAttributes")();n("./ComponentCache");var K=[],H=[],J={},D=[],C={},A=[],Q=function(a){p.isNoU(D[a])&&(D[a]=new E(function(a,b,c){l(a,b,c)}));return D[a]},G=[],R=0,I=!0;a.prototype.field=function(a,b){return f.call(this,a,b)};a.prototype.load=function(a,b){var e;var f=b;e=w.resolvePath(a);var g=null;p.isNoU(f)?(f={},g=new x(zuix,f,l)):(f.componentId=e,p.isNoU(f.contextId)?(!1===f&&(f=
{}),f.contextId="zuix-ctx-"+ ++R,g=d(f)):(g=m(f.contextId),null!==g?g.options(f):g=d(f)));g.componentId!=e&&(g.componentId=e);p.isFunction(f.ready)&&(g.ready=f.ready);p.isFunction(f.error)&&(g.error=f.error);null==A[e]?(A[e]=!0,e=c(g,f)):(null==C[e]&&(C[e]=[]),C[e].push({c:g,o:f}),e=g);return e};a.prototype.unload=function(a){h(a);return this};a.prototype.controller=function(a){return k.call(this,a)};a.prototype.context=function(a,b){return m.call(this,a,b)};a.prototype.createComponent=function(a,
b){null==b&&(b={});p.isNoU(b.contextId)&&(b.contextId="zuix-ctx-"+ ++R);if(null!=m(b.contextId))throw Error("Context arelady exists.");b.container=document.createElement("div");b.componentId=a;w.applyOptions(b.container,b);return d(b)};a.prototype.trigger=function(a,b,c){l(a,b,c);return this};a.prototype.hook=function(a,b){p.isNoU(b)?delete H[a]:H[a]=b;return this};a.prototype.using=function(a,c,d){c=w.resolvePath(c);a=a.toLowerCase();var e=a+"-"+c.hashCode();if("component"===a)a=m(e),null==a?zuix.load(c,
{contextId:e,view:"",priority:-10,ready:function(a){"function"===typeof d&&d(c,a)},error:function(){d(c,null)}}):"function"===typeof d&&d(c,a);else{var f="style"===a;if(0===u.find(a+'[id="'+e+'"]').length()){var g=document.head||document.getElementsByTagName("head")[0],h=document.createElement(a);h.type=f?"text/css":"text/javascript";h.id=e;g.appendChild(h);var k=function(a){f?h.styleSheet?h.styleSheet.cssText=a:h.appendChild(document.createTextNode(a)):h.innerText?h.innerText=a:h.appendChild(document.createTextNode(a));
d&&d(c,e)},l="_res/"+a+"/"+e;a=b(l);null!=a?k(f?a.css:a.controller):u.ajax({url:c,success:function(a){G.push({componentId:l,view:null,css:f?a:null,controller:f?null:a,using:c});k(a)},error:function(){g.removeChild(h);d&&d(c)}})}else console.log("Resource already added "+e+"("+c+")"),d&&d(c,e)}};a.prototype.lazyLoad=function(a,b){if(null!=a)w.lazyLoad(a,b);else return w.lazyLoad();return this};a.prototype.httpCaching=function(a){if(null!=a)g(a);else return g();return this};a.prototype.componentize=
function(a){w.componentize(a);return this};a.prototype.store=function(a,b){null!=b&&(this._store[a]=b);return this._store[a]};a.prototype.getResourcePath=function(a){return e(a)};a.prototype.bundle=function(a,b){if(p.isNoU(a))return G;if(a&&"boolean"===typeof a){q.t("bundle:start");var c=w.lazyLoad();w.lazyLoad(!1);w.componentize();if("function"===typeof b){var d=function(a){setTimeout(function(){w.willLoadMore()?(q.t("bundle:wait"),a(a)):(q.t("bundle:end"),w.lazyLoad(c),b())},1E3)};d(d)}}else{for(d=
0;d<a.length;d++)a[d].css_applied&&delete a[d].css_applied,"string"===typeof a[d].controller&&(a[d].controller=eval(a[d].controller));G=a}return this};a.prototype.$=u;a.prototype.TaskQueue=E;a.prototype.ZxQuery=u.ZxQuery;a.prototype.dumpCache=function(){return G};a.prototype.dumpContexts=function(){return K};r.exports=function(b){var c=new a;"loading"!=document.readyState?c.componentize():document.addEventListener("DOMContentLoaded",function(){c.componentize()});q.monitor(function(a,b){p.isFunction(c.monitor)&&
c.monitor(a,Array.prototype.slice.call(b))});return c}},{"../helpers/Logger":2,"../helpers/TaskQueue":3,"../helpers/Util":4,"../helpers/ZxQuery":5,"./ComponentCache":7,"./ComponentContext":8,"./Componentizer":9,"./ContextController":10,"./OptionAttributes":11}]},{},[6])(6)});
//# sourceMappingURL=zuix.min.js.map
